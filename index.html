<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Yixin&#39;s sharing">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Yixin&#39;s sharing">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Ren Yixin">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Yixin's sharing</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yixin's sharing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/29/%E8%A7%86%E8%A7%89%E4%BC%BA%E6%9C%8D%E6%A6%82%E5%BF%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/29/%E8%A7%86%E8%A7%89%E4%BC%BA%E6%9C%8D%E6%A6%82%E5%BF%B5/" itemprop="url">视觉伺服的概念学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-29T16:41:41+08:00">
                2020-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  604
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="机械臂系统">机械臂系统</h2>
<ul>
<li>以电机模仿人类的关节，连接杆模仿手臂结构。机械臂的自由度数量由电机的数量决定，自由度多月的机械臂末端实现的姿态越全面。</li>
<li>刚体在空间中的位置可以用6个量来表述（x,y,z,a,b,r）,(x,y,z)对应刚体质心在空间中的位置，(a,b,r)与欧拉角中的进动角，章动角以及自旋角相对应。</li>
<li>关节空间：6自由度机械臂6个关节角的角度值组成向量长成的空间。</li>
<li>关节空间--&gt;世界空间：正解</li>
<li>世界空间--&gt;关节空间：反解</li>
<li>正反解方式：机械臂的数学建模。用的最多的：机械臂DH建模方法——矩阵T来表述相邻关节坐标系之间的转换</li>
</ul>
<h2 id="视觉伺服">视觉伺服</h2>
<p>视觉伺服系统最重要的组成部分：图像处理、特征提取、摄像机标定、控制器设计。</p>
<p>视觉伺服分类方式：</p>
<ul>
<li>按照摄像机的位置：
<ul>
<li>固定系统：视角大，可能出现机械臂遮挡阻碍识别的现象</li>
<li>手眼系统：视角有限，能观测到的空间场景较小，容易造成目标丢失的现象。</li>
</ul></li>
<li>根据是否用视觉信息直接控制机械臂：
<ul>
<li>动态系统：双闭环系统结构。</li>
<li>直接视觉伺服系统</li>
</ul></li>
<li>视觉伺服最重要的分类方式在于根据误差信号的类别
<ul>
<li>基于位置PBVS。误差信号为三维位姿信息，隐含了对物体进行识别的过程。优点在于考虑了对操作空间变量直接进行作用的可能性。在控制器设计方面将机械臂控制部分与视觉部分分离开来，因为相对较为简单。缺点在于对相机标定的误差和机械臂模型非常敏感。</li>
<li>基于图像IBVS。误差信号为二维图像内的特征信号。基于图像特征的视觉反馈。常用：特征点、光流场、图像矩。优点在于对摄像机标定和机械臂模型的误差有较强的适应性，缺点在于控制器的设计较困难，在线对图像雅可比矩阵进行计算，容易出现奇异值和不稳定点的现象。</li>
<li>混合视觉伺服</li>
</ul></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/28/radiativecooling3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/28/radiativecooling3/" itemprop="url">【原创综述】你听说过完全不耗能的制冷方式吗？[下] A review of advanced materials for daytime radiative cooling</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-28T16:42:32+08:00">
                2020-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  14
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="challenges-and-prospects-for-radiative-cooling">Challenges and Prospects for Radiative Cooling</h2>
<p>In spite of many appealing established radiative cooling materials, not many effective and reliable cooling systems are demonstrated for real-life use. The main reasons include the cost, reliability, environmental sustainability, low cooling power density and controls. In this section, the general challenges in the recent application of daytime radiative cooling and feasible solutions are reviewed.</p>
<p><img src="/2020/07/28/radiativecooling3/5.png"></p>
<p><strong>Figure 5.</strong> Challenges of application of radiative cooling and associated solutions. large-scale and low-cost fabrication. (a) sol-gel imprinting. (b) Roll-to-roll continuous fabrication (c) film spraying Solvent-evaporation-induced phase separation. Phase-inversion-based method. Reducing non-radiative heat transfering: (d) A vacuum system (e) The polyethylene convection shield (f) The optically selective and thermally insulating emitter cover. Environmental stability problem and the works that deal with this problem: (g) The optical response of the fabricated device under the humid tropical area which suggests a drop of emissivity in the first atmospheric window and a larger one in the second window. (h) By adding 8YSZ layer, the emissivity of the proposed structure increases in the first atmospheric window and decrease of that in the second atmospheric window. (i) The heat transfer model of the radiative cooling system with asymmetric electromagnetic transmission. The systems with control ability: (j)The self-adaptive radiative cooling system consisting of a spectrally selective filter and a phase changing switch layer. (k) The radiator filter device controlled by its incidence angle. (m)The air conditioning-radiative cooling integrated system.</p>
<h3 id="large-scale-and-low-cost-fabrication">Large-Scale and Low-Cost Fabrication</h3>
<p>For many proposed radiative cooling material systems, though the performance is good, the stringent and expensive fabrication methods such as electron beam lithography 25, vacuum deposition36 [<a href="#_edn1">i]</a> are improper for large-scale industrial application.</p>
<p>These years, there are some promising schemes such as scalable sol-gel imprinting process[<a href="#_edn2">ii]</a>, roll-to-roll continuous fabrication etc. It’s be noticed that many simple and cost-effective techniques are most likely being originated from the cross-cutting areas. For example, the phase-inversion-based method for porous P(VdF-HFP)HP coating is commonly used in the batteries filed for large-scale preparation of controllable porous polymer films. Electrospinning technique used in constructing the flexible hybrid membrane radiator[<a href="#_edn3">iii]</a> has been widely used as a versatile technique for producing porous materials by electrostatic repulsion between surface charges[<a href="#_edn4">iv]</a>.</p>
<h3 id="non-radiative-heat-loss">Non-Radiative Heat Loss</h3>
<p>Non-radiative heat transfer is an important part of energy exchange in the radiative cooling system. As the equation $P_(cond+conv)=A<em>h_atm </em>(T_atm-T) $ suggests, non-radiative heat transfer is not always detrimental for daytime radiative cooling. If <span class="math inline">\(T_atm&lt;T\)</span>, such as the cooling of solar cells[<a href="#_edn5">v]</a>, supplemental cooling of condenser[<a href="#_edn6">vi]</a>, cooling of spacecraft[<a href="#_edn7">vii]</a>, the overall performance of the cooler would be enhanced instead. However, if <span class="math inline">\(T_atm&gt;T\)</span>, non-radiative heat transfer would drastically reduce the total cooling heat flux of the structures. So, to achieve the temperature below the ambient temperature, non-radiative heat transfer modes should be suppressed as much as possible.</p>
<p>Several approaches have been presented to reduce the non-radiative heat transfer. The most common way is to place their device in a vacuum chamber to minimize the parasitic losses[<a href="#_edn8">viii]</a>. Using IR transparent heat-insulating shield on top of the cooler is much cheaper and more reliable, polyethylene[<a href="#_edn9">ix]</a>, zinc sulfide (ZnS)[<a href="#_edn10">x]</a>, zinc selenide (ZnSe), Ge, and Si[<a href="#_edn11">xi]</a> etc. are materials that can be chosen from. The third way is to construct different structures on the shield such as mesh-shape[<a href="#_edn12">xii]</a>, corrugated structures[<a href="#_edn13">xiii]</a>. These surface structures can function as airflow separator, decrease the coefficient h_atm by slowing down the flow rate. Recent researches also presented covers with both IR transparent and solar reflective ability. Erik Torgerson et al.[<a href="#_edn14">xiv]</a> designed a PE filter with size controllable air pores. Besides the IR transparency inherent to PE, the filter reflects solar radiance by scattering. Leroy et al.[<a href="#_edn15">xv]</a> fabricated a polyethylene aerogel (PEA) using the thermally induced phase separation. As shown in Fig 5(f), it combines the advantages of polyethylene and aerogel—one with high porosity, ultralow density and thermal conductivity.</p>
<p>Despite all these works, non-radiative heat transfer is still the dominant factor which prevents the radiative cooling system from reaching its theoretical maximum temperature reduction.</p>
<h3 id="meteorological-stability">Meteorological Stability</h3>
<p>Meteorological conditions such as humidity[<a href="#_edn16">xvi]</a>, temperature, cloud cover[<a href="#_edn17">xvii]</a>, solar radiation[<a href="#_edn18">xviii]</a>, local wind speeds will largely affect the performance of radiative cooling. Among which, humidity is one of the most important factors. Numerical analyses reveal that when the humidity is high, transparency of the atmospheric window partially decreased due to the high concentration of water molecules[<a href="#_edn19">xix]</a>. The <span class="math inline">\(2^nd\)</span> atmospheric window in λ = 16 ∼ 25 μm will even be completely closed[<a href="#_edn20">xx]</a>. Then, intensive atmospheric thermal radiation acts directly on the radiative cooler thus make it be heated up instead.[<a href="#_edn21">xxi]</a> Therefore, in cities warm and humid like Hongkong, few successful field investigations on daytime radiative cooling have been carried out.</p>
<p>To tackle with this problem, one way is to modulate the emissivity spectrum, improve the cooler’s emissivity only in the 1st window, but minimize it elsewhere including the 2nd window. Fan et al. [<a href="#_edn22">xxii]</a> used 8YSZ film on top of the SiO2 and Ag layers. The thin 8YSZ film can be highly emissive in the first window and highly reflective in the 2nd windows. By adding the 8YSZ coating, the cooling power will be improved when the humidity is high. The second method is to further reject the thermal radiation and alleviate the hear load onto the cooler. General methods for the suppression of heat conduction and convection can be useful here to partly recover the cooling power. Another novel approach presented by Wong et al. [<a href="#_edn23">xxiii]</a> was to integrate with an asymmetric electromagnetic transmission device which only allows outgoing radiation but reflects incident radiation of the same wavelengths, as shown in Fig 5(i).</p>
<h3 id="controllable-cooling-power"><strong>Controllable Cooling Power</strong></h3>
<p>All the radiative coolers discussed previously are static. While in practice, if radiative coolers always run with the static power, indoor supercooling may occur at night or in winter, making people uncomfortable. In that case, a controllable or self-adaptive radiative cooling system would be highly appreciated.</p>
<p>Thermal induced phase transition materials have been added. Vanadium dioxide is one of the best candidates because its transition temperature is near the room temperature[<a href="#_edn24">xxiv]</a>. ONO et al.[<a href="#_edn25">xxv]</a> proposed a self-adaptive radiative cooler based on a planar photonic multilayer system incorporating VO2 and a spectrally selective filter. Wu et al.[<a href="#_edn26">xxvi]</a> also designed a metasurface consisting of VO2 and SiO2 multilayers structure. Another way is to create an solar filter on top of the radiator to gain dynamic control over the reflection of the solar radiation.[<a href="#_edn27">xxvii]</a> It is reported that the surface temperature of the radiative emitter can be tuned in a wide range by simply tilting the filter from the normal incidence direction to approximately 23 °C, as shown in Fig 5(l).</p>
<p>However, to see the whole thing in another aspect, feasible solutions is to utilize the cold energy indirectly. For example, store the cold when they are not needed immediately. It can be achieved by developing a single-phase thermosiphon module[<a href="#_edn28">xxviii]</a>. One has also demonstrated the feasibility of integrating radiative cooling system into the existing thermal systems. By using heat-transfer fluid media, radiative cooler can serve as a secondary refrigeration unit to preserve energy[<a href="#_edn29">xxix]</a>. This method also solves the problem of the intermittent nature and low energy density of radiative cooling and might be a very promising way at least in the next few years.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This paper reviews various advanced materials for daytime radiative cooling, including multilayer film, complicated surface nanostructure, doping system and porous structures. As the first generation of radiative cooling materials, the simple multilayer structure experimentally proved the feasibility of applying nanophotonic, and some of its optimized structure is still of the best performances. However, it seems that simple multilayer structures are more constrained by the lack of selectable materials. Surface nanostructures are most imaginative for their increased dimension. Though complex it is, it can meet with special requirements such as extreme temperature conditions or accurate spectral functions. Of all the methods, the third category is regarded as the most scalable and commercially promising due to its randomness nature, the ingenious combination of the reflective layer and the emissive layer, and its easiness to integrate with an existing plane. Each category has its strengths and weaknesses, while they confront the collective challenge such as the cost, ineluctable convection and conduction, stability and reliability, as well as the problem of over-cooling, etc. Although many studies and improvements have been made to address these issues, they are quite scattered and focused, with few systemic breakthroughs. We expect this review to provide some insights into the development trace of this promising technology. Hopefully, energy-free all-day technology would facilitate significant savings in cooling energy consumption and help humans fight against global warming in the near future.</p>
<hr>
<p>[<a href="#_ednref1">i]</a> Zhao, Dongliang, et al. &quot;Subambient cooling of water: Toward real-world applications of daytime radiative cooling.&quot; Joule 3.1 (2019): 111-123.</p>
<p>[<a href="#_ednref2">ii]</a> Lu, Yuehui, et al. &quot;A universal route to realize radiative cooling and light management in photovoltaic modules.&quot; <em>Solar Rrl</em> 1.10 (2017): 1700084.</p>
<p>[<a href="#_ednref3">iii]</a> Wang, Xin, et al. &quot;Scalable Flexible Hybrid Membranes with Photonic Structures for Daytime Radiative Cooling.&quot; <em>Advanced Functional Materials</em> (2019): 1907562.</p>
<p>[<a href="#_ednref4">iv]</a> Thenmozhi, S., et al. &quot;Electrospun nanofibers: New generation materials for advanced applications.&quot; <em>Materials Science and Engineering: B</em> 217 (2017): 36-48.</p>
<p>[<a href="#_ednref5">v]</a> Long, Linshuang, Yue Yang, and Liping Wang. &quot;Simultaneously enhanced solar absorption and radiative cooling with thin silica micro-grating coatings for silicon solar cells.&quot; <em>Solar Energy Materials and Solar Cells</em> 197 (2019): 19-24.</p>
<p>[<a href="#_ednref6">vi]</a> Dyreson, Ana, and Franklin Miller. &quot;Night sky cooling for concentrating solar power plants.&quot; <em>Applied Energy</em> 180 (2016): 276-286.</p>
<p>[<a href="#_ednref7">vii]</a> Cho, Jin-Woo, et al. &quot;Visible to near-infrared thermal radiation from nanostructured tungsten anntennas.&quot; <em>Journal of Optics</em> 20.9 (2018): 09LT01.</p>
<p>[<a href="#_ednref8">viii]</a> Chen, Zhen, et al. &quot;Radiative cooling to deep sub-freezing temperatures through a 24-h day–night cycle.&quot; <em>Nature communications</em> 7.1 (2016): 1-5.</p>
<p>[<a href="#_ednref9">ix]</a> Raman, Aaswath P., et al. &quot;Passive radiative cooling below ambient air temperature under direct sunlight.&quot; <em>Nature</em> 515.7528 (2014): 540-544.</p>
<p>[<a href="#_ednref10">x]</a> Chen, Zhen, et al. &quot;Radiative cooling to deep sub-freezing temperatures through a 24-h day–night cycle.&quot; <em>Nature communications</em> 7.1 (2016): 1-5.</p>
<p>[<a href="#_ednref11">xi]</a> Chen, Zhen, et al. &quot;Simultaneously and synergistically harvest energy from the sun and outer space.&quot; <em>Joule</em> 3.1 (2019): 101-110.</p>
<p>[<a href="#_ednref12">xii]</a> Gentle, A. R., K. L. Dybdal, and G. B. Smith. &quot;Polymeric mesh for durable infra-red transparent convection shields: Applications in cool roofs and sky cooling.&quot; <em>Solar energy materials and solar cells</em> 115 (2013): 79-85.</p>
<p>[<a href="#_ednref13">xiii]</a> Nilsson, N. A., T. S. Eriksson, and C. G. Granqvist. &quot;Infrared-transparent convection shields for radiative cooling: Initial results on corrugated polyethylene foils.&quot; <em>Solar Energy Materials</em> 12.5 (1985): 327-333.</p>
<p>[<a href="#_ednref14">xiv]</a> Torgerson, Erik, and Josh Hellhake. &quot;Polymer solar filter for enabling direct daytime radiative cooling.&quot; <em>Solar Energy Materials and Solar Cells</em> 206 (2020): 110319.</p>
<p>[<a href="#_ednref15">xv]</a> Leroy, A., et al. &quot;High-performance subambient radiative cooling enabled by optically selective and thermally insulating polyethylene aerogel.&quot; <em>Science advances</em> 5.10 (2019): eaat9480.</p>
<p>[<a href="#_ednref16">xvi]</a> R. A. Oetjen, E. E. Bell, J. Young, and L. Eisner, “Spectral radiance of sky and terrain at wavelengths between 1 and 20 microns. I. Instrumentation,” JOSA 50, 1308–1313 (1960).</p>
<p>[<a href="#_ednref17">xvii]</a> T. J. Garrett, L. F. Radke, and P. V. Hobbs, “Aerosol effects on cloud emissivity and surface longwave heating in the arctic,” J. Atmos. Sci. 59, 769–778 (2002).</p>
<p>[<a href="#_ednref18">xviii]</a> Zhao, Bin, et al. &quot;Performance evaluation of daytime radiative cooling under different clear sky conditions.&quot; <em>Applied Thermal Engineering</em> 155 (2019): 660-666.</p>
<p>[<a href="#_ednref19">xix]</a> C.G. Granqvist, A. Hjortsberg, Radiative cooling to low temperatures: General considerations and application to selectively emitting SiO films, J. Appl. Phys. 52 (1981) 4205-4220.</p>
<p>C.G. Granqvist, A. Hjortsberg, Surfaces for radiative cooling: silicon monoxide films on aluminum, Appl. Phys. Lett. 36 (1980) 139-141.</p>
<p>[<a href="#_ednref20">xx]</a> A field investigation of passive radiative cooling under Hong Kong's climate Renew. Energy, 106 (2017)</p>
<p>H. Bao, C. Yan, B. Wang, X. Fang, C.Y. Zhao, X. RuanDouble-layer nanoparticle-based coatings for efficient terrestrial radiative cooling Sol. Energy Mater. Sol. Cells, 168 (2017)</p>
<p>[<a href="#_ednref21">xxi]</a> Wong, Ross YM, et al. &quot;Ultra-broadband asymmetric transmission metallic gratings for subtropical passive daytime radiative cooling.&quot; <em>Solar Energy Materials and Solar Cells</em> 186 (2018): 330-339.</p>
<p>[<a href="#_ednref22">xxii]</a> Fan, Jianshu, Ceji Fu, and Tairan Fu. &quot;Yttria-stabilized zirconia coating for passive daytime radiative cooling in humid environment.&quot; <em>Applied Thermal Engineering</em> 165 (2020): 114585.</p>
<p>[<a href="#_ednref23">xxiii]</a> Wong, Ross YM, et al. &quot;Ultra-broadband asymmetric transmission metallic gratings for subtropical passive daytime radiative cooling.&quot; <em>Solar Energy Materials and Solar Cells</em> 186 (2018): 330-339.</p>
<p>[<a href="#_ednref24">xxiv]</a> Gentle, Angus, et al. &quot;Design, control, and characterisation of switchable radiative cooling.&quot; <em>New Concepts in Solar and Thermal Radiation Conversion and Reliability</em>. Vol. 10759. International Society for Optics and Photonics, 2018.</p>
<p>[<a href="#_ednref25">xxv]</a> Ono, Masashi, et al. &quot;Self-adaptive radiative cooling based on phase change materials.&quot; <em>Optics express</em> 26.18 (2018): A777-A787.</p>
<p>[<a href="#_ednref26">xxvi]</a> Wu, Sheng-Rui, Kuan-Lin Lai, and Chih-Ming Wang. &quot;Passive temperature control based on a phase change metasurface.&quot; <em>Scientific reports</em> 8.1 (2018): 1-6.</p>
<p>[<a href="#_ednref27">xxvii]</a> Pech-May, Nelson W., and Markus Retsch. &quot;Tunable daytime passive radiative cooling based on a broadband angle selective low-pass filter.&quot; <em>Nanoscale Advances</em> (2020).</p>
<p>[<a href="#_ednref28">xxviii]</a> water condensation with daytime radiative cooling</p>
<p>[<a href="#_ednref29">xxix]</a> Goldstein, Eli A., Aaswath P. Raman, and Shanhui Fan. &quot;Sub-ambient non-evaporative fluid cooling with the sky.&quot; <em>Nature Energy</em> 2.9 (2017): 1-7.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/27/radiativecooling2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/27/radiativecooling2/" itemprop="url">【原创】你听说过完全不耗能的制冷方式吗？[中] A review of advanced materials for daytime radiative cooling</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-27T16:42:32+08:00">
                2020-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.9k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  17
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="3-advanced-materials-for-daytime-radiative-cooling"><a class="markdownIt-Anchor" href="#3-advanced-materials-for-daytime-radiative-cooling"></a> 3. Advanced Materials for Daytime Radiative Cooling</h2>
<h3 id="31-inorganic-and-organic-film-materials-for-radiative-cooling"><a class="markdownIt-Anchor" href="#31-inorganic-and-organic-film-materials-for-radiative-cooling"></a> 3.1  Inorganic and Organic Film Materials for Radiative Cooling</h3>
<p>The concept of daytime radiative cooling was first proved by Raman A.P experimentally using a film-format material55. As shown in Fig 2(a), the film was consisting of seven alternating layers of HfO2  and SiO2 on top of Ag layer and silicon wafer. Top three layers of SiO2 and HfO2 are emission layers. SiO2 has a very high absorption peak near 9.3 um due to phonon polariton resonance while the alternations with the low-index material HfO2 further enhance the emissivity. The four thinner layers at the bottom are designed to increase the reflectance of Ag layer. Though the average emissivity within the atmospheric window is still less than 0.7, the film successfully maintained 4.9℃ below the ambient temperature when the solar irradiance is about 800–870W/m^2.</p>
<p>Since then, the film-format radiative cooling system has been a research focus. To further exploit the potential of Raman’s film, Kecebas et al.[<a href="#_edn1">i]</a> proposed two alternative methods to improve its emission property. One is to insert an Al2O3  layer to broaden the emission spectrum. The other is to replace HfO2  with TiO2  which is cheaper and more strongly emitted. With the modification, the emissivity reached 0.8 and 0.96 within the atmospheric window. By further optimizing the structural parameters of the alternating layers, the TiO2/SiO2 multilayer structure can reach 136.3W/m^2 [<a href="#_edn2">ii]</a>, showing great potential.</p>
<p>Another important group of multilayer film is polymer-based. Polymers are mass production, low cost and scaled-system applicability. It is well understood that polymers absorb infrared light due to the vibration of the functional groups.[<a href="#_edn3">iii]</a> If the absorption range fully covers the atmospheric window, daytime radiative cooling might be achieve with a highly solar-reflective layer at the back.[<a href="#_edn4">iv]</a></p>
<p>Polydimethylsiloxane (PDMS) is one of the best candidates for daytime radiative cooling. It is transparent in visible to near-infrared spectrum and able to emit strongly over a broad bandwidth.[<a href="#_edn5">v]</a> Meanwhile, it is inexpensive and chemically stable. Kou et al. [<a href="#_edn6">vi]</a> first proposed a polymer-silica-mirror by coating fused silica wafer with PDMS film as a top layer and silver film as a back reflector. Zhou[<a href="#_edn7">vii]</a> proposed a simple planar only uses PDMS film and metal as reflector to realize an inexpensive emitter. But because the emissivity of PDMS is not very high and the wavelength is not exactly confined to the atmospheric window, to achieve sufficient cooling, they have to be integrated with non-radiative heat suppressing devices such as the vacuum box. Recently, Jeong et al.[<a href="#_edn8">viii]</a> enhanced the emission property of PDMS by demonstrating geometrical modification on its surface. With the triangular prism structure, the net cooling power reaches 144 W/m^2.</p>
<p>Aside from PDMS, polytetrafluoroethylene (PTFE)[<a href="#_edn9">ix]</a>, polymethyl methacrylate (PMMA)[<a href="#_edn10">x]</a>, polyvinyl fluoride (PVF)[<a href="#_edn11">xi]</a>, polyvinylidene difluoride (PVDF) 22 were also being studied and played important roles in assisting the conventional emission and reflection layers. One of the concerns about using polymer is their chemical characteristics that might affect the stability such as corrosion and thermal degradation[<a href="#_edn12">xii]</a>.</p>
<p>To pursue better emission performance, many researchers had tried to optimize structural parameters by simulation. But for film structure, improving the performance usually means adding the complexity of the system, which is unsuitable for industrial applications.</p>
<p>So far, the highest MIR emissivity of the multilayer structure is 98%, which is a very high record. Compared with emissivity, high solar reflectivity is harder to maintain due to the few selections of metal solar-reflective layers and the inevitable absorption of the materials at the upper layers.</p>
<p><img src="/2020/07/27/radiativecooling2/xiaoxin1216/blog/source/_posts/radiativecooling2/2.png" alt="2"></p>
<p><strong>Figure 2.</strong> Designs of radiative cooling devices and various film materials used. A radiative cooling device generally consists of an emission layer on top of a reflection layer at the back. The reflection layer is either an Ag layer or an Al layer. The choice of emission layer is diverse and could be (a) SiO2/HfO2 layer, (b) Si3N4 layer, © PTFE film, (d) PVF film, (e) PDMS/SiO2 film or (f) PMMA/SiO2 film.</p>
<h3 id="32-engineered-surface-structure-for-enhanced-radiative-cooling"><a class="markdownIt-Anchor" href="#32-engineered-surface-structure-for-enhanced-radiative-cooling"></a> 3.2 Engineered Surface Structure for Enhanced Radiative Cooling</h3>
<p>The second approach is to reconstruct the surface of the object. Surface structures can support multiple resonant modes and mechanisms of which are diverse according to the different material and structure size. With the artificially designed structure, the desired emission performance can be drastically enhanced.</p>
<p>The first nanophotonic structure that achieves daytime radiative cooling is designed by Rphali[<a href="#_edn13">xiii]</a>. As shown in Figure 3(a), the top two layers are 2D photonic crystal consisting of periodic pillar arrays of αquartz and SiO2, taking the advantage of phonon-polariton resonance from two materials. Middle part is a typical multilayer structure with the alternation of 〖TiO〗_2 and 〖MgF〗_2. A silver mirror is at the bottom. As a result, the structure only absorbs 3.5% of solar irradiance and its cooling power can achieve 105W/m^2. However, due to the difficulty in fabricating such a complex structure, the authors did not actually experimentalize it.</p>
<p>So far, various micro/nanoscale photonic structures have been proposed for daytime radiative cooling such as lattice, pyramid, gratings, sphere arrays. For example, the pyramid structure is one of the most widely used structures. Hossain et al.[<a href="#_edn14">xiv]</a> proposed a metal–dielectric conical-shaped structure consisting of alternating layers of Ge and Al for radiative cooling. The metallic-dielectric pyramid structures result in broadband absorption by overlapping resonances of resonators[<a href="#_edn15">xv]</a> hence trap the light and extent the optical path. However, it can only be used during the night due to the absorption of metal layers in the solar spectrum which can easily eliminate any cooling effect of radiative coolers. Follow up researches [<a href="#_edn16">xvi]</a>[<a href="#_edn17">xvii]</a>overcame the disadvantage of high solar absorption in metal/dielectric layers by introducing low loss all-dielectric pyramid structures. For all-dielectric pyramid structure, the mid-infrared absorption is mainly attributed to the graded refractive index, which can prevent emitted radiation from being hindered at the surface. The optimized all-dielectric pyramid structure achieves a net cooling power exceeding 156 W/m^2  under direct solar irradiation.</p>
<p>Zou et al.[<a href="#_edn18">xviii]</a> reported a much simpler material with only two layers. The unit cell of it is a pair of two identical rectangular resonators made of metal-loaded doped-silicon orientated orthogonally to each other. With this structure, they demonstrated a strong wide-angle emission that spectrally matches the atmospheric window.</p>
<p>However, to precisely excite the resonant emission or trap the light, geometric features need to be very carefully controlled, making it extremely difficult to fabricate. Also, the techniques such as electron-beam lithography and nanolithography prevent the surface structures from being added directly on existing surfaces. Therefore, despite the unparalleled performance, cost and scalability are the main obstacles of the surface structure from being widely applied.</p>
<p><img src="/2020/07/27/radiativecooling2/xiaoxin1216/blog/source/_posts/radiativecooling2/3.png" alt="3"></p>
<p><strong>Figure 3.</strong> Various micro/nanoscale surface structures developed to enhance daytime radiative cooling. The daytime radiative cooling could be enhanced by 2D photonic crystal structures (a) SiC/<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>Quartz pillar array photonic crystal structure, arrays of dielectric resonators including (b) metallic-dielectric pyramid structure (d) VO2/SiO2 gratings (e) oxidized metal sphere arrays (f) rectangular metal-loaded doped-silicon, and better impedance matching by graded refractive © all-dielectric pyramid structure.</p>
<h3 id="33-designed-hierarchical-structures-for-enhanced-radiative-cooling"><a class="markdownIt-Anchor" href="#33-designed-hierarchical-structures-for-enhanced-radiative-cooling"></a> 3.3 Designed Hierarchical Structures for Enhanced Radiative Cooling</h3>
<p>The third category is to embed micro/nanoparticles or airholes in a matrix to form a coating with selective radiative properties. This method is much cost-effective for it introduced the concept of randomness thus will not be constrained by the sophisticated fabrication of the precisely designed structures.</p>
<p>Before applying to daytime radiative cooling, the method of using random particles has already separately realized selective reflection and emission. For reflectivity, being high in the solar spectrum and low in the atmospheric window can be achieved simultaneously if the particle size is appropriately chosen[<a href="#_edn19">xix]</a>[<a href="#_edn20">xx]</a>[<a href="#_edn21">xxi]</a>. For emissivity, the enhanced emissivity of doping system mainly attributes to the collective excitation of electromagnetic resonators in a randomness material system which extend the optical path length. If excitation and the optical path length in the material are both enhanced, absorption will be near perfect at the resonance.[<a href="#_edn22">xxii]</a></p>
<p>Bao et al.[<a href="#_edn23">xxiii]</a> first achieved daytime radiative cooling by combining the two ability together. They used double-layer coatings composed of 〖TiO〗_2 particles and SiO2 nanoparticles. The overall solar reflectivity of the system reaches 0.9 and the emittance in the atmospheric window is 0.9. Similarly, Huang et al.[<a href="#_edn24">xxiv]</a> designed a double layer coating respectively doped with 〖TiO〗_2  for reflecting the solar light and carbon black particles for emitting the MIR thermal radiance.</p>
<p>In 2017, a scalable and low-cost glass-polymer hybrid film reported by Zhai et al.[<a href="#_edn25">xxv]</a> caught attentions from both academic and industry. They mixed 〖SiO〗_2  microspheres into a solar-transparent TPX polymer and backed by a silver layer. Attributing to the phonon-enhanced Fröhlich resonances of the microsphere, the material can generate an average power of 110 W/m^2  for three consecutive days. Most importantly, they developed a glass-polymer hybrid manufacturing technique, which can make films in a continuous roll-to-roll manner, enables large-scale manufacturing.</p>
<p>However, the system still adopted metal layers for reflection. To avoid the use of precious metal films and their precise deposition processes, light scattering by particles can be employed to reduce the solar absorption. Atiganyanun et al.[<a href="#_edn26">xxvi]</a> optimized structural parameters of the doped silica microspheres for maximum optical scattering. Their reported media adopted a format of painting, thus can be deposited by simple and scalable methods at a low cost. Recent studies[<a href="#_edn27">xxvii]</a> have mixed microspheres of different sizes into the matrix, scattering a wider band of the solar spectrum. Plus, the fabrication cost would be further cut down since precise control of particle size is not necessary. One had also noticed the presence of the matrix will decrease the scattering performances[<a href="#_edn28">xxviii]</a>. Refet et al.[<a href="#_edn29">xxix]</a> removed the necessity of the binder by using silica fiber network suspended in the air on a substrate. Owning to the absence of binder and the increasement of efficient solar reflection, its net radiative cooling power is 178W/m^2, which is almost the highest recorded.</p>
<p>Porous structure is also a hot topic in recent years for daytime radiative cooling. Mandal et al.[<a href="#_edn30">xxx]</a>fabricated a hierarchically porous P(VdF-HFP)HP coating through a low-cost phase-inversion-based method. Owing to the efficient scattering of its micro and nanoscale air pores, the coating exhibits extremely high solar light reflectance. Meanwhile, the hierarchically porous polymer obtains a better impedance matching at the interface, slightly increases the mid-infrared emissivity than the bulk polymer. Similarly, Fu et al.[<a href="#_edn31">xxxi]</a> fabricated an emission layer of porous anodic aluminum oxide membrane utilizing simple and standard chemical ways. In which Air holes decrease the dielectric constant and improve the impedance matching with the ambient air. Single material with porous structure was also realized for radiative cooling. Li et al.[<a href="#_edn32">xxxii]</a> fabricated a single nanoporous MgHPO4·1.2H2O with a high reflectance by hydrothermal synthesis. The porous nature of this material was one of the factors that enhanced its intrinsic MIR emissivity and reflectivity in the solar spectrum.</p>
<p>By utilizing the optical ability of porous structure, materials once were not efficient enough to achieve daytime radiative cooling now gain the possibility. The advantages of radiative cooling materials with porous structure are low-cost and can be fabricated by chemical methods. However, the reliability of porous materials such as the influence of dust, water accumulation, and long-time sunlight still needs to be investigated thoroughly.</p>
<p><img src="/2020/07/27/radiativecooling2/xiaoxin1216/blog/source/_posts/radiativecooling2/4.png" alt="4"></p>
<p><strong>Figure 4.</strong>  Hierarchical structures designed for enhance daytime radiative cooling. The emissivity could be enhanced by resonance excitation from random particles including (a) SiC/SiO2 nanoparticles (b) SiO2 microspheres dispersed in Hybrid TPX (4-methylpentene) polymer. The solar reflection can be improved by light scattering including © Model of random microparticle packing by painting (d) polydisperse microparticle layer and (e) SiO2 fiber coating. Various hierarchical porous structures are designed to enhance the optical scattering and better the impedance matching with the surrounding air, including (f) microporous P(VdF-HFP)HP coating, (g) nanoporous anodic aluminum oxide (AAO) membrane(h) nanoporous MgHPO4·1.2H2O coating and (i) flexible hybrid membrane of  MgHPO4.1.2H2O microspheres and nanoporous microfibers.</p>
<hr>
<p>[<a href="#_ednref1">i]</a> Kecebas, Muhammed Ali, et al. “Passive radiative cooling design with broadband optical thin-film filters.” <em>Journal of Quantitative Spectroscopy and Radiative Transfer</em> 198 (2017): 179-186.</p>
<p>[<a href="#_ednref2">ii]</a> Jeong, Shin Young, et al. “Field investigation of a photonic multi-layered TiO2 passive radiative cooler in sub-tropical climate.” <em>Renewable Energy</em> 146 (2020): 44-55.</p>
<p>[<a href="#_ednref3">iii]</a> Stuart, Barbara. “Infrared spectroscopy.” <em>Kirk‐Othmer Encyclopedia of Chemical Technology</em> (2000).</p>
<p>[<a href="#_ednref4">iv]</a> Aili, A., et al. “Selection of polymers with functional groups for daytime radiative cooling.” <em>Materials Today Physics</em> 10 (2019): 100127.</p>
<p>[<a href="#_ednref5">v]</a> Srinivasan, Arvind, et al. “Infrared dielectric function of polydimethylsiloxane and selective emission behavior.” <em>Applied Physics Letters</em> 109.6 (2016): 061905.</p>
<p>[<a href="#_ednref6">vi]</a> Kou, Jun-long, et al. “Daytime radiative cooling using near-black infrared emitters.” <em>Acs Photonics</em> 4.3 (2017): 626-630.</p>
<p>[<a href="#_ednref7">vii]</a> Zhou, Lyu, et al. “A polydimethylsiloxane-coated metal structure for all-day radiative cooling.” <em>Nature Sustainability</em> 2.8 (2019): 718-724.</p>
<p>[<a href="#_ednref8">viii]</a> Jeong, S. Y., et al. “Daytime passive radiative cooling by ultra emissive bio-inspired polymeric surface.” <em>Solar Energy Materials and Solar Cells</em> 206 (2020): 110296.</p>
<p>[<a href="#_ednref9">ix]</a> Yang, Peiyan, Chuyang Chen, and Zhuomin M. Zhang. “A dual-layer structure with record-high solar reflectance for daytime radiative cooling.” <em>Solar Energy</em> 169 (2018): 316-324.</p>
<p>[<a href="#_ednref10">x]</a> Suichi, Takahiro, et al. “Performance limit of daytime radiative cooling in warm humid environment.” <em>AIP Advances</em> 8.5 (2018): 055124.</p>
<p>[<a href="#_ednref11">xi]</a> Meng, Sheng, et al. “Scalable dual-layer film with broadband infrared emission for sub-ambient daytime radiative cooling.” <em>Solar Energy Materials and Solar Cells</em> 208 (2020): 110393.</p>
<p>[<a href="#_ednref12">xii]</a>N. Grassie, I.G. Macfarlane, The thermal degradation of polysiloxanesdI. Poly (dimethylsiloxane), Eur. Polym. J. 14 (1978) 875e884.</p>
<p>[<a href="#_ednref13">xiii]</a> Rephaeli, Eden, Aaswath Raman, and Shanhui Fan. “Ultrabroadband photonic structures to achieve high-performance daytime radiative cooling.” <em>Nano letters</em> 13.4 (2013): 1457-1461.</p>
<p>[<a href="#_ednref14">xiv]</a> Hossain, Md Muntasir, Baohua Jia, and Min Gu. “A metamaterial emitter for highly efficient radiative cooling.” <em>Advanced Optical Materials</em> 3.8 (2015): 1047-1051.</p>
<p>[<a href="#_ednref15">xv]</a> Liu, TianJi, and Junichi Takahara. “Ultrabroadband absorber based on single-sized embedded metal-dielectric-metal structures and application of radiative cooling.” <em>Optics express</em> 25.12 (2017): A612-A627.</p>
<p>[<a href="#_ednref16">xvi]</a> Wu, Dong, et al. “The design of ultra-broadband selective near-perfect absorber based on photonic structures to achieve near-ideal daytime radiative cooling.” <em>Materials &amp; Design</em> 139 (2018): 104-111.</p>
<p>[<a href="#_ednref17">xvii]</a> Kong, Aru, et al. “Ultra-broadband all-dielectric metamaterial thermal emitter for passive radiative cooling.” <em>Optics express</em> 27.21 (2019): 30102-30115.</p>
<p>[<a href="#_ednref18">xviii]</a> Zou, Chengjun, et al. “Metal‐Loaded Dielectric Resonator Metasurfaces for Radiative Cooling.” <em>Advanced Optical Materials</em> 5.20 (2017): 1700460.</p>
<p>[<a href="#_ednref19">xix]</a>  A. Andretta, B. Bartoli, B. Coluzzi, V. Cuomo, Selective surfaces for natural cooling devices, J. Phys. Colloques 42 (C1) (1981), C1-423-C1-430.</p>
<p>[<a href="#_ednref20">xx]</a> T.M.J. Nilsson, G.A. Niklasson, C.G. Granqvist, A solar reflecting material for radiative cooling applications: ZnS pigmented polyethylene, Sol. Energy Mater. Sol. Cells 28 (2) (1992) 175–193.</p>
<p>[<a href="#_ednref21">xxi]</a>  T.M.J. Nilsson, G.A. Niklasson, Radiative cooling during the day: simulations and experiments on pigmented polyethylene cover foils, Sol. Energy Mater. Sol. Cells 37 (1) (1995) 93–118.</p>
<p>[<a href="#_ednref22">xxii]</a> Hao, Jianping, et al. “Bandwidth enhancement in disordered metamaterial absorbers.” <em>Applied Physics Letters</em> 105.8 (2014): 081102.</p>
<p>[<a href="#_ednref23">xxiii]</a> Bao, Hua, et al. “Double-layer nanoparticle-based coatings for efficient terrestrial radiative cooling.” <em>Solar Energy Materials and Solar Cells</em> 168 (2017): 78-84.</p>
<p>[<a href="#_ednref24">xxiv]</a> Huang, Zhifeng, and Xiulin Ruan. “Nanoparticle embedded double-layer coating for daytime radiative cooling.” <em>International Journal of Heat and Mass Transfer</em> 104 (2017): 890-896.</p>
<p>[<a href="#_ednref25">xxv]</a> Zhai, Yao, et al. “Scalable-manufactured randomized glass-polymer hybrid metamaterial for daytime radiative cooling.” <em>Science</em> 355.6329 (2017): 1062-1066.</p>
<p>[<a href="#_ednref26">xxvi]</a> Atiganyanun, Sarun, et al. “Effective radiative cooling by paint-format microsphere-based photonic random media.” <em>ACS Photonics</em> 5.4 (2018): 1181-1187.</p>
<p>[<a href="#_ednref27">xxvii]</a> Peoples, Joseph, et al. “A strategy of hierarchical particle sizes in nanoparticle composite for enhancing solar reflection.” <em>International Journal of Heat and Mass Transfer</em> 131 (2019): 487-494.</p>
<p>[<a href="#_ednref28">xxviii]</a> B.G. Lee, P. Stradins, D.L. Young, K. Alberi, T.-K. Chuang, J.G. Couillard, H. M. Branz, Light trapping by a dielectric nanoparticle back reflector in film silicon solar cells, Appl. Phys. Lett. 99 (2011), 064101</p>
<p>[<a href="#_ednref29">xxix]</a> Yalçın, Refet Ali, et al. “Daytime radiative cooling with silica fiber network.” <em>Solar Energy Materials and Solar Cells</em> 206 (2020): 110320.</p>
<p>[<a href="#_ednref30">xxx]</a> Mandal, Jyotirmoy, et al. “Hierarchically porous polymer coatings for highly efficient passive daytime radiative cooling.” <em>Science</em> 362.6412 (2018): 315-319.</p>
<p>[<a href="#_ednref31">xxxi]</a> Fu, Yang, et al. “Daytime passive radiative cooler using porous alumina.” <em>Solar Energy Materials and Solar Cells</em> 191 (2019): 50-54.</p>
<p>[<a href="#_ednref32">xxxii]</a> Huang, Xia, et al. “Single Nanoporous MgHPO4· 1.2 H2O for Daytime Radiative Cooling.” <em>ACS Applied Materials &amp; Interfaces</em> (2019).</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/26/radiative%20cooling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/26/radiative%20cooling/" itemprop="url">【原创】你听说过完全不耗能的制冷方式吗？[上] A review of advanced materials for daytime radiative cooling</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-26T16:42:32+08:00">
                2020-07-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这篇文章是Cov-19在家蹲期间写的一篇英文综述，总共有2万字。当时是觉得这些个光子结构真是非常奇妙，随随便便能调制吸收波长，进而来改变宏观世界。出于好奇，了解和记录辐射制冷这个领域近几年的发展，顺便归纳了几个流派和他们的技术限制等等。</p>
<p>由于领域实在是太小众，身边没什么人可以分享，就将这篇小论文放在这个小天地吧</p>
<h2 id="abstract">Abstract</h2>
<p>Radiative cooling is a natural phenomenon by which a device exposing to the sky can cool itself by emitting radiation to the universe through transparent atmospheric windows. Due to its energy-free nature, it is regarded as a promising cooling technology. Recent years, daytime radiative sky cooling has been experimentally demonstrated by various novel materials. However, there are notable problems that hindering radiative cooling from real-life applications such as the high cost, complex fabrication method, low energy density and the control problems. This work introduces the fundamental principles of radiative cooling, reviews advanced materials for daytime radiative cooling by outlining their benefit and technical constraints. Furthermore, challenges and the associated solutions in related publications are reviewed.</p>
<h2 id="introduction">1. Introduction</h2>
<p>Refrigeration is an indispensable part of modern society nowadays. People use it to make their homes comfortable, to preserve food, to provide suitable conditions for industrial production. The demand of refrigeration is still growing exponentially. Current refrigeration technology requires the use of polluting refrigerants, such as hydrofluorocarbon products, and consume significant amounts of energy. With the growing concern about environmental issues, there is an increasing interest in pursuing new alternative refrigeration technologies.</p>
<p>Radiative cooling is a natural phenomenon by which a device exposing to the sky can cool itself without energy consumption by radiating heat to the outer space through transparent atmospheric windows. According to the scenario, radiative cooling is divided into nocturnal radiative cooling and daytime radiative cooling. The former one has been utilized in ancient Iran and India thousands of years ago[<a href="#_edn1">i]</a>[<a href="#_edn2">ii]</a>. While it was not until recent years, daytime radiative cooling has been successfully realized. Many application fields such as building refrigeration[<a href="#_edn3">iii]</a>, photovoltaic refrigeration[<a href="#_edn4">iv]</a>[<a href="#_edn5">v]</a>[<a href="#_edn6">vi]</a>[<a href="#_edn7">vii]</a> and even clothing refrigeration[<a href="#_edn8">viii]</a>[<a href="#_edn9">ix]</a> have been investigated with daytime radiative cooling, showing the enormous potential of which in playing an essential role as the next generation of refrigeration.</p>
<p>The basic component to achieve nighttime radiative cooling is merely a broadband emitter. For instance, an ideal emitter like carbon black can complete a certain degree of cooling at night. But for daytime radiative cooling, the requirement on the material is much more stringent due to the intensive sunlight (around 1000 ). To avoid solar absorption, one should design a powerful reflector, being entirely transparent to the mid-IR spectrum at the same time. In addition, the broad emitter needs to be strictly tailored for the atmospheric window to decrease the unnecessary absorption from the surroundings.</p>
<p>With the development of nanophotonics, qualified and novel materials have been demonstrated. Specifically, one can tailor different spectral resonances by interference to design the favorable emitter, including 2D multilayer structures, 3D surface structures, etc. High solar reflectivity has been realized by exploiting high reflective metal, surface structures, porous materials etc. The innovative method of combining the two made it more efficient.</p>
<p>However, there are notable problems that may hinder radiative cooling from real applications such as the high cost, complex fabrication method, low energy density and the control problems. Recent researches have actively involved in addressing these problems by upgrading the material systems and applying multidisciplinary techniques. But the notable gap still exists. It can be foreseen that commercializing daytime radiative cooling will be a significant achievement in both materials science and system engineering.</p>
<p>In this paper, a brief review of advanced materials for daytime radiative cooling will be presented. We begin our discussion by introducing the basic principle, related mechanisms formula and the initial attempts to achieve daytime radiative cooling. In section III, we divide advanced daytime radiative cooling materials into three categories and comb through the newest progress in daytime radiative cooling by discussing the detailed technical constraints and prospects. Finally, we end up this review by outlining challenges and the associated solutions when it comes to real-life applications.</p>
<h2 id="principle-of-daytime-radiative-cooling">2. Principle of Daytime Radiative Cooling</h2>
<p>To better understand the theory of radiative cooling, we start with some basic knowledge. First, any objects will radiate electromagnetic waves outward once its temperature is above 0 K. Heat as well as energy will spontaneously be dissipated from a hot object to a cold object in the form of thermal radiation. The universe is an ultimate heat sink with a temperature of around 3 K. Radiative thermal contact can be made by transferring energy in the form of electromagnetic with it. Second, as a consequence of combined effect from atmospheric components, the atmosphere has mainly three spectrum band of high transmittance under clear sky conditions, as shown in Figure 1(b). The wavelength range between 8-13 um is being particularly interested and is termed as the first atmospheric window. Coincidently, this wavelength range matches well with the peak wavelength of thermal radiation from terrestrial objects at an ambient temperature of 300K. Based on these two facts, energy-free cooling could be possibly made if energy, in the form of radiation at specific wavelength, was dissipated to the universe through the atmospheric window without hindrance[<a href="#_edn10">x]</a>.</p>
<p>Here is the related formula. Consider a radiative cooler with surface area <span class="math inline">\(A\)</span> , surface temperature <span class="math inline">\(T\)</span> , is exposed to the direct sunlight at a temperature of <span class="math inline">\(T_ {amb}\)</span> . For this system, <span class="math inline">\(P_{rad}\)</span> is the main source of the energy transferred out from the object. Income energy includes the energy from solar irradiation <span class="math inline">\(P_{sun}\)</span> , the energy from the surroundings through radiation <span class="math inline">\(P_{atm}\)</span> and non-radiation <span class="math inline">\(P_{cond+conv}\)</span> .</p>
<p><strong>$P_{net} = $<span class="math inline">\(P_{rad}-P_{sun}-P_{atm}-P_{cond+conv}\)</span></strong></p>
<p><em>由于markdown打公式太费时间啦而且相信大家也不想看公式///此处省略细节共识</em></p>
<p>when the value of net radiative cooling power <span class="math inline">\(P_{net}\)</span> is above 0, the sum of energy that the object radiated to the outer space exceeded what it absorbed from the ambient and the sun, in other words, the object can <strong>realize radiative cooling.</strong></p>
<figure>
<img src="/2020/07/26/radiative%20cooling/xiaoxin1216/blog/source/_posts/radiative%20cooling/1.png" alt="1"><figcaption>1</figcaption>
</figure>
<p><strong>Figure 1.</strong> Principle of radiative cooling. (a) The spectral radiance of human, light bulb and sun at 310 K, 3000 K and 6000 K, respectively. (b) The spectral irradiation of a blackbody surface at ~300 K (black curve) and the atmospheric transmittance in the mid- and far-IR regions (blue curve). The atmospheric transmission windows include the first atmospheric window (8-13 um) and secondary transmission window (16-25 um). (c) Daytime radiative cooling is achieved when <span class="math inline">\(P_{net}&gt;0\)</span> .</p>
<hr>
<p>[<a href="#_ednref1">i]</a> C.G. Granqvist, A. Hjortsberg Surfaces for radiative cooling: silicon monoxide films on aluminum Appl. Phys. Lett., 36 (1980), pp. 139-141</p>
<p>[<a href="#_ednref2">ii]</a> T.M.J. Nilsson, G.A. Niklasson Radiative cooling during the day: simulations and experiments on pigmented polyethylene cover foils Sol. Energy Mater. Sol. Cells, 37 (1995), pp. 93-118</p>
<p>[<a href="#_ednref3">iii]</a> Gentle, Angus R., and Geoff B. Smith. &quot;A subambient open roof surface under the Mid‐Summer sun.&quot; <em>Advanced Science</em> 2.9 (2015): 1500119.</p>
<p>[<a href="#_ednref4">iv]</a> Nishioka, Kensuke, et al. &quot;Heat reduction of concentrator photovoltaic module using high radiation coating.&quot; <em>Surface and Coatings Technology</em> 215 (2013): 472-475.</p>
<p>[<a href="#_ednref5">v]</a> Lee, Eungkyu, and Tengfei Luo. &quot;Black body-like radiative cooling for flexible thin-film solar cells.&quot; <em>Solar Energy Materials and Solar Cells</em> 194 (2019): 222-228.</p>
<p>[<a href="#_ednref6">vi]</a> Long, Linshuang, Yue Yang, and Liping Wang. &quot;Simultaneously enhanced solar absorption and radiative cooling with thin silica micro-grating coatings for silicon solar cells.&quot; <em>Solar Energy Materials and Solar Cells</em> 197 (2019): 19-24.</p>
<p>[<a href="#_ednref7">vii]</a> Zhao, Bin, et al. &quot;Performance analysis of enhanced radiative cooling of solar cells based on a commercial silicon photovoltaic module.&quot; <em>Solar Energy</em> 176 (2018): 248-255.</p>
<p>[<a href="#_ednref8">viii]</a> Hsu, Po-Chun, et al. &quot;Radiative human body cooling by nanoporous polyethylene textile.&quot; <em>Science</em> 353.6303 (2016): 1019-1023.</p>
<p>[<a href="#_ednref9">ix]</a> Cai, Lili, et al. &quot;Spectrally selective nanocomposite textile for outdoor personal cooling.&quot; <em>Advanced Materials</em> 30.35 (2018): 1802152.</p>
<p>[<a href="#_ednref10">x]</a> C.G. Granqvist, Solar energy materials, Adv. Mater. 15 (2003) 1789–1803.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/16/%E6%95%B0%E6%8D%AE%E5%BA%93peewee/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/16/%E6%95%B0%E6%8D%AE%E5%BA%93peewee/" itemprop="url">数据库之peewee+sqlite入门级练手</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-16T18:32:01+08:00">
                2020-06-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>期末论文什么的告一段落，今天开始接触搭建数据库。</p>
<p>在试验中我使用了DB Browser for SQLite来可视化本地数据库，选择Peewee为ORM框架。选择的原因在上一篇文章中有所描述。</p>
<p>首先，作为一种ORM框架，Peewee中<code>Model</code>类、<code>fields</code>和<code>model实例</code>与数据库的映射关系如下：</p>
<p><strong>Model class—Database table</strong></p>
<p><strong>Field instance—Column on a table</strong></p>
<p><strong>Model instance—Row in a database table</strong></p>
<p>即一个Model类代表一个数据库的表，一个Field字段代表数据库中的一个字段，一个model类实例化对象则代表数据库中的一行</p>
<p>接下来进行一些简单语句的介绍。</p>
<h3 id="定义model-建立数据库"><a class="markdownIt-Anchor" href="#定义model-建立数据库"></a> 定义Model 建立数据库</h3>
<p>在使用的时候，根据需求先定义好Model，然后可以通过<code>create_tables()</code>创建表，若是已经创建好数据库表了，可以通过<code>python -m pwiz</code>脚本工具直接创建Model。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> peewee <span class="keyword">import</span> *</span><br><span class="line">db = SqliteDatabase(<span class="string">'quickstart.db'</span>)</span><br><span class="line">db.connect()</span><br><span class="line"><span class="comment">#连接数据库</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Material</span><span class="params">(Model)</span>:</span></span><br><span class="line">  name = CharField()</span><br><span class="line">  P1 = CharField()</span><br><span class="line">  P2 = BooleanField()</span><br><span class="line">  P3 = IntegerField()</span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">    database = db</span><br></pre></td></tr></table></figure>
<p>peewee将数据库中对应的各种类别，转化为了模块中的各种Filed，比如</p>
<p><img src="/2020/06/16/%E6%95%B0%E6%8D%AE%E5%BA%93peewee/1.png" alt="1"></p>
<p>每个Filed都有一些参数可以设置：（写在括号里）</p>
<ul>
<li>null = False，当前这个Field是否可以为null值</li>
<li>unique = False， 当前这个Field中的值是否唯一，比如id</li>
<li>default = None，指定一个默认值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建表</span></span><br><span class="line">Material.create_table()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建表也可以这样, 可以创建多个</span></span><br><span class="line"><span class="comment"># database.create_tables([Person])</span></span><br></pre></td></tr></table></figure>
<p>如果建完之后，发现缺少了一列，可以使用playhouse 里migrate模块进行修改（增删更名）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> playhouse.migrate <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是postgresql的，实例化出一个migrator对象</span></span><br><span class="line">db = SqliteDatabase(<span class="string">'quickstart.db'</span>)</span><br><span class="line">migrator = SqliteMigrator(db)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用migrate()执行一个或多个操作</span></span><br><span class="line"><span class="comment"># 添加了两个列，删除一个列</span></span><br><span class="line">title_field = CharField(default=<span class="string">''</span>)</span><br><span class="line">status_field = IntegerField(null=<span class="literal">True</span>)</span><br><span class="line">migrate(</span><br><span class="line">    migrator.add_column(<span class="string">'Material'</span>, <span class="string">'title1'</span>,title_field),<span class="comment">#‘Material表’‘新增title属性’ </span></span><br><span class="line">    migrator.drop_column(<span class="string">'Material'</span>, <span class="string">'title1'</span>,title_field),<span class="comment">#‘Material表’‘新增title属性’</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="对数据的操作"><a class="markdownIt-Anchor" href="#对数据的操作"></a> 对数据的操作</h3>
<h4 id="增加"><a class="markdownIt-Anchor" href="#增加"></a> 增加</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加一条数据</span></span><br><span class="line">p = Material(name = <span class="string">'The first'</span>,P1 = <span class="string">'good'</span>,P2 = <span class="number">0</span>,P3 = <span class="number">2</span>)</span><br><span class="line">p.save()</span><br><span class="line"></span><br><span class="line"><span class="comment">#方法二insert</span></span><br><span class="line">p_id = Material.insert(&#123;</span><br><span class="line">    <span class="string">'name'</span>: <span class="string">'The second'</span>,</span><br><span class="line">    <span class="string">'P1'</span> :<span class="string">'good'</span>,</span><br><span class="line">    <span class="string">'P2'</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="string">'P3'</span> : <span class="number">2</span></span><br><span class="line">&#125;).execute()</span><br><span class="line"><span class="comment">#打印出新插入数据的id</span></span><br><span class="line">print(p_id)</span><br><span class="line"></span><br><span class="line"><span class="comment">#插入很多数据，性能最好的是使用insert_many()</span></span><br><span class="line">NUM = <span class="number">10000</span></span><br><span class="line">data = [&#123;</span><br><span class="line">            <span class="string">'name'</span>: <span class="string">'123'</span></span><br><span class="line">        &#125; <span class="keyword">for</span> i <span class="keyword">in</span> range(NUM)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> database.atomic():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, NUM, <span class="number">100</span>):</span><br><span class="line">        <span class="comment"># 每次批量插入100条，分成多次插入</span></span><br><span class="line">        Material.insert_many(data[i:i + <span class="number">100</span>]).execute()</span><br></pre></td></tr></table></figure>
<h4 id="删除"><a class="markdownIt-Anchor" href="#删除"></a> 删除：</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用delete().where().execute()进行删除，where()是条件，execute()负责执行语句。若是已经查询出来的实例，则直接使用delete_instance()删除。</span></span><br><span class="line">Material.delete().where(Material.name == <span class="string">'A'</span>).execute()</span><br><span class="line"></span><br><span class="line">已经实例化的数据（有id了）, 使用delete_instance</span><br><span class="line"></span><br><span class="line">p.id = <span class="number">1</span></span><br><span class="line">p.save()</span><br><span class="line">p.delete_instance()</span><br></pre></td></tr></table></figure>
<h4 id="修改"><a class="markdownIt-Anchor" href="#修改"></a> 修改</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##已经实例化的数据,指定了id这个primary key,则此时保存就是更新数据</span></span><br><span class="line"></span><br><span class="line">p = Material(name = <span class="string">'New_name'</span>,P1 = <span class="string">'new'</span>,P2 = <span class="number">0</span>,P3 = <span class="number">2</span>)</span><br><span class="line">p.id = <span class="number">1</span></span><br><span class="line">p.save()</span><br></pre></td></tr></table></figure>
<h4 id="查询"><a class="markdownIt-Anchor" href="#查询"></a> 查询</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查询单条数据</span></span><br><span class="line">p = Material.get(Material.id == <span class="number">1</span>)</span><br><span class="line">print(p.name, p.P1, p.P2,p.P3)</span><br><span class="line"><span class="comment">#使用where().get()查询</span></span><br><span class="line">p = Material.select().where(Material.name ==<span class="string">'The first'</span>).get()</span><br><span class="line">print(p.name, p.P1, p.P2,p.P3)</span><br><span class="line"><span class="comment">#查询多条数据</span></span><br><span class="line">persons = Material.select().where(Material.P2 ==<span class="number">0</span> ).get()</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> Material:</span><br><span class="line">    print(p.name, p.P1, p.P2,p.P3)</span><br></pre></td></tr></table></figure>
<h4 id="统计-排序-limit"><a class="markdownIt-Anchor" href="#统计-排序-limit"></a> 统计、排序、limit</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询整张表的数据条数</span></span><br><span class="line">total_num = Material.select().count()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询name为liuchungui的Person数量, 返回数量为1</span></span><br><span class="line">num = Person.select().where(Person.name == <span class="string">'liuchungui'</span>).count()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照P3大小排序</span></span><br><span class="line">Materials = Material.select().order_by(Material.P3.desc())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照创建时间升序排序</span></span><br><span class="line">persons = Person.select().order_by(Person.create_time.asc())</span><br></pre></td></tr></table></figure>
<h4 id="查询符"><a class="markdownIt-Anchor" href="#查询符"></a> 查询符</h4>
<p><img src="/2020/06/16/%E6%95%B0%E6%8D%AE%E5%BA%93peewee/%E6%9F%A5%E8%AF%A2%E7%AC%A6%E5%8F%B7.png" alt="查询符号"></p>
<p><img src="/2020/06/16/%E6%95%B0%E6%8D%AE%E5%BA%93peewee/%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5.png" alt="条件语句"></p>
<p>其中，==、&lt;、&lt;=、&gt;、&gt;=、!=是很容易理解的，重点提下<code>&lt;&lt;</code>、<code>&gt;&gt;</code>和<code>%</code>。用示例说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &lt;&lt;使用，查询省份属于湖北和湖南的，对应sql语句：select * from person where province in ('湖南', '湖北')</span></span><br><span class="line">persons = Person.select().where(Person.province &lt;&lt; [<span class="string">'湖南'</span>, <span class="string">'湖北'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt;&gt;使用，查询省份为空的，sql语句: select * from person where province is Null</span></span><br><span class="line">persons = Person.select().where(Person.province &gt;&gt; <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># %使用，查询省份中含有 湖 字，sql语句：select * from person where province like '%湖%'</span></span><br><span class="line">persons = Person.select().where(Person.province % <span class="string">'%湖%'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询湖南和湖北的, 注意需要用()将Person.province == '湖南'包一层</span></span><br><span class="line">persons = Person.select().where((Person.province == <span class="string">'湖南'</span>) | (Person.province == <span class="string">'湖北'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询湖南和身高1.75</span></span><br><span class="line">persons = Person.select().where((Person.province == <span class="string">'湖南'</span>) &amp; (Person.height == <span class="number">1.75</span>))</span><br></pre></td></tr></table></figure>
<p>最后，在我之前接到的需求中，我主要需要录入100+的对象（行），超过10+的属性（列），最终实现他们的网站上线等。</p>
<p>录入倒是不困难，需要再学习一下csv怎么直接通过 peewee导入到sqlite里面去。目前的想法是把csv转化成字典，再通过playground的字典-模型转换，导入到sqlite里面去。</p>
<p>上线的话，应该是需要一些前端知识。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/03/%E6%9C%80%E6%83%A8%E5%88%9B%E4%B8%9A%E8%80%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/03/%E6%9C%80%E6%83%A8%E5%88%9B%E4%B8%9A%E8%80%85/" itemprop="url">如何避免自己成为“最惨创业者”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-03T18:46:48+08:00">
                2020-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E2%80%9C%E6%A2%A6%E4%B8%8E%E8%BF%BD%E6%B1%82%E2%80%9D/" itemprop="url" rel="index">
                    <span itemprop="name">“梦与追求”</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.4k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>昨天，一则《中国最惨创业者》的推文在我的朋友圈疯转。自称为最惨创业者的作者郭建，在文中讲述了被合伙人和投资者串通从一手创办的公司净身出户，还要背负对赌责任，银行卡被冻结、房子被查封的悲惨经历，痛骂投资者光鲜身份背后的阴险和肮脏，寻求读者道义上的支持。看完文章，我的心底一阵凉意。恰好本学期上了有关《公司法》的内容，学以致用，我尝试梳理他的经历，思考能否避免自身陷入这样的悲剧。</p>
<p><strong>稀里糊涂的股权架构设计</strong></p>
<p>在郭建叙述的故事中，他在成为最惨创业者路上的埋下的第一颗雷在雷龙科技的股权架构设计上。</p>
<p>股权架构是基于公司法的股权规则设计的，围绕创始人、合伙人、投资人等角色，通过公司控制权、决策权、分红权的分离，实现公司整体利益最大化。初始团队的股权架构设计关系到公司组织结构的稳定性。</p>
<p>尽管没有一种通用的架构能套在所有公司上，但有许多经验雷区是初创公司需要尤其注意的，例如股权均等、股权僵局等。前者会导致创业者失去实际控制权，后者将导致僵持双方一旦出现争执，投资人联合另一大股东，创始人可能被迫出局。因为股权架构设计不合理的前车之鉴比比皆是，例如爱多电器（45%，45%，10%），真功夫（50%，50%），首席娱乐官（60%，40%）等。</p>
<p>郭建的故事里，他在雷龙公司先后两次变更股权结构，都是死死地踩了雷。第一次，郭与前领导于任远在股权设计上采取均等形式，各占45%，拱手相让绝对控股权，在这一结构下，郭无法独自决定公司事务，两人一旦发生分歧就陷入僵局；第二次，投资人入伙持股20%（额外赋予一票否决权），郭持股36.5%，于任远持股33%，暂且不说这投资人与合伙人不清不白的关系，这种股权结构使得投资人与合伙人的持股和大于55%，使创业者完全丧失公司控制权。</p>
<p>匪夷所思的是，郭建创业前后10年，竟然没有在这些治理结构上有过任何怀疑或作出弥补措施。相比之下于任远的股权控制之术要高明很多。郭建被扫地出门之后，于任远不仅持股69.2%绝对控股，也是代持员工股权的杭州雷联科技有限公司的法定代表人。</p>
<p><strong>对赌协议的坑在哪？</strong></p>
<p>第二枚雷埋在融资附带的对赌协议中。</p>
<p>在郭的故事里，对赌协议是2014年公司引进融资时签署的。投资方允诺投资2600万，稀释股权到20%，代价是签署业绩对赌条款，3年内上市或者被合格并购，否则要求郭、于个人回购所有股权。这似乎是无可厚非的。对赌协议的实质是用来协调估值天平的砝码，因为往往在融资博弈时，创业者会要求更高的估值，在信息不对等的情况下，投资人只能冒较大风险选择相信创业者提供的信息及要求的估值，但用单方的对赌来保护自己。对赌有明确的执行步骤，制定上又几乎无所拘束，遵循着你商我量、你情我愿的原则。在中国实体企业融资难的环境下，对赌协议的使用其实已经非常普遍。统计显示，近三年上司公司及创投领域的资本交易达到十万亿级别，其中涉及到对赌的就有达万亿级。</p>
<p>回到郭的故事中，当时科发创投给出的2600万投资对于14年刚刚起步的雷龙科技显然是高额估值，那么投资者必定有高额回报的期待，通过对赌来降低投资风险似乎是无可厚非。</p>
<p>真正的雷是对赌协议中的责任主体。根据书面协议的约定，回购义务人明确是郭、于个人而非公司，甚至都没有提及他们当时在公司的职务和身份。因此即使郭的股权转让、离开公司后，他本人作为自然人，依旧是回购义务人。就是这个小细节，使整个对赌协议的性质就变了。我猜想，郭建在事发之前一定都不记得有这茬事，甚至他当时可能都没看具体对赌协议的条例，只查得个法律概念，自认为是标准化的流程，就盲目允诺了。</p>
<p>这让我想起周淳老师课上一再强调的一点，公司法不是万能的。具体商业事件千差万别，公司法不能做到全方位保驾护航。做到无所疏漏，更多是靠利益双方主动达成协议，提前制定章程。如果郭建认识到这点，当时能在对赌协议中增添例如“公司实际控制人”、“总经理”等身份称谓，或者“以所持股份为限”等补充义务的限度，事情就会不一样了。可惜，郭因为没有这个意识，反而自己脑补出一个“完美保护伞”的公司法印象，最终栽了跟头。</p>
<p><strong>背了一口锅</strong></p>
<p>第三个雷藏在郭以股权转让方式退出雷龙科技的时候。这也恰是郭建最受委屈的地方。在他那个“完美保护伞”的假设里，自己不是股东了、不是经理了，自然和公司两不相欠。——这自然也是他想多了。由于他所负债务是个人债务，同时没有进行任何主动的书面免除回购义务，这笔债也不会自动免去。关于这一点，郭在文章中为自己辩驳，说合伙人于任远口头上答应了他股权债务可以免，让人顿然无语。</p>
<p><strong>如何避免自己成为“中国最惨创业者”</strong></p>
<p>从整个事件的调性上，会感觉郭始终处于法盲一般懵懂鲁莽而又自以为是的状态。总结他创业失败经验，对于创业者的启示无非就是以下三点：</p>
<p>一，非常基本的常识，任何人的空口承诺不可信，所有程序要以书面形式进行。</p>
<p>二，对于有资本战略规划的公司一定要设计合理的股权架构。切记公平的利益分配都是表面的，保证自己控制权才是本质。股权架构是一个动态博弈，在创业的每个阶段，关于控制权这根弦一定要绷紧。</p>
<p>三，面对对赌协议需绝对慎重。首先，我个人不是很喜欢经常使用对赌协议的投资者，很不大气。风险投资的核心是风险，优秀的投资机构应该通过专业的投资能力和投资眼光，来对冲投资的风险。如果遇到非要使用对赌协议的投资情况，创业者应该加以重视、保护自己，在审核修改对赌条款时需要尽可能关注语言表述细节，可以利用多重方式缩减自身在对赌条款下的风险曝露。例如：合理设置对赌触发条件，对赌业绩可以在约定具体数额的基础上，加上一定的上下浮动空间；细化免责条款，尽可能覆盖公司可能面对的不可抗力、市场风险和政策风险；为补偿“封口”， 优先选择以所持公司股权而不是现金进行补偿，避免对赌补偿义务成为夫妻共同债务（前车之鉴：小马奔腾）等……创业者需要明白对赌协议的安排是个性化的，应基于交易双方的情况勇敢且理性地博弈。</p>
<p><strong>最惨创业者？最佳普法员</strong></p>
<p>由于故事中“一口气投2600万”，“刚一轮融资就对赌三年上市”这些情形都过于冲击常识，我特意去搜了一下这家公司的背景、经营业务以及相关新闻。我发现这家所谓雷龙科技其实是在做学生贷之类的P2P产品（瞬间最后一点同情都没了）。13年左右正是P2P的风口，大量资本以 “名股实债”的对赌融资形式涌入。郭建因抓住P2P红利，攫取了巨大的利益。14年过后，随着P2P行业的衰退，各种矛盾开始爆发，大潮退去，终会有浪花来替它谢罪。郭建的遭遇也只不过是其中的一朵罢了。</p>
<p>没有创业史会记住这个创业者，因为他也没创出个所以然来。只有普法工作者会拿着他这篇极具感染力和传播力的文章不断教育企业家，签合同前一定要问问律师！融资的时候一定要找律师啊！</p>
<p>附：《中国最惨创业者》https://mp.weixin.qq.com/s/0RE9qjGNoyuCjzpKMiCL4A</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/31/Python%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84%E6%80%BB%E7%BB%93%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/31/Python%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84%E6%80%BB%E7%BB%93%20/" itemprop="url">Python数据库学习路径总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-31T10:49:11+08:00">
                2020-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="写在前面"><a class="markdownIt-Anchor" href="#写在前面"></a> 写在前面</h3>
<p>用Python做项目的时候经常会遇到管理数据的需求。常见的方式是用文件保存数据，还有 <strong>pickle</strong>、<strong>csv</strong> 等模块辅助。但对于稍微复杂一点的数据，往往不够方便。成熟的解决方案就是使用<strong>数据库</strong>。</p>
<p>本文我将收集一下学习Python数据库所涉及到的一些基本概念和学习路径，选择一条最适合我需求的路径。</p>
<h3 id="方式一学习sql语言使用mysql数据库或sqlite并使用pymysql库用python操作数据库"><a class="markdownIt-Anchor" href="#方式一学习sql语言使用mysql数据库或sqlite并使用pymysql库用python操作数据库"></a> 方式一：学习SQL语言，使用MySQL数据库（或Sqlite），并使用PyMySQL库用Python操作数据库。</h3>
<p>提到数据库，首先想到的自然是大名鼎鼎的数据库SQL语句，在正经的开发中应用很多。使用数据库的 <strong>SQL 语句</strong>几乎相当于再学一种新的语言。虽然 <strong>sqlite</strong>、<strong>pymysql</strong> 等模块提供了与数据的连接，但仍然需要自己去拼接 SQL 语句。</p>
<h4 id="sql语言"><a class="markdownIt-Anchor" href="#sql语言"></a> SQL语言</h4>
<blockquote>
<p>结构化查询语言(Structured Query Language)简称SQL，是一种特殊目的的编程语言，是一种数据库查询和设计语言，用于存取数据以及查询、更新和管理关系数据库系统.</p>
</blockquote>
<p>简而言之，SQL就是一种脚本编程语言，是绝大多数数据库（例如MYSQL、Oracle）的通用语言。</p>
<ul>
<li>SQL 面向数据库执行查询</li>
<li>SQL 可在数据库中插入新的记录</li>
<li>SQL 可更新数据库中的数据</li>
<li>SQL 可从数据库删除记录</li>
<li>SQL 可在数据库中创建新表</li>
<li>SQL 可在数据库中创建视图</li>
</ul>
<h4 id="数据库软件mysqlsqlite"><a class="markdownIt-Anchor" href="#数据库软件mysqlsqlite"></a> 数据库软件：MySQL/Sqlite…</h4>
<p>MySQL是在90年代中期开发的数据库软件，是市场上第一个可用的开源数据库之一。MySQL是一种RDBMS，它允许保持数据库中存在的数据。MySQL适用SQL结构化查询语言用于访问，更新和操作数据库中的数据。</p>
<p>对于数据量较小，访问量较小的需求，甚至都不需要能承受高并发访问的大内存MySQL，可以只用SQLite，它的特点是轻量级、可嵌入，但不能承受高并发访问，适合桌面和移动应用。Python就内置了SQLite3，所以，在Python中使用SQLite，不需要安装任何东西，直接使用。</p>
<p>由于Python的准数据库接口DB-API定义都是通用的，所以，操作不同数据库的代码和方式都类似。</p>
<h4 id="pymysql"><a class="markdownIt-Anchor" href="#pymysql"></a> PyMySQL</h4>
<p>PyMySQL是在 Python3.x 版本中用于连接 MySQL 服务器的一个库。</p>
<h4 id="与python自带库pandas对比"><a class="markdownIt-Anchor" href="#与python自带库pandas对比"></a> 与Python自带库Pandas对比</h4>
<p>Pandas是Python领域强大的数据处理与分析的类库，与SQL类似，两者都是对“表格型”数据的操作和查询，所以很多语法都能对应起来，例如<strong>SELECT数据查询，WHERE按条件查询，in和not in的条件查询，groupby分组统计，JOIN数据关联，UNION数据合并，Order Limit先排序后分页，取每个分组group的top n，UPDATE数据更新，DELETE删除数据</strong> …</p>
<h3 id="方式二用orm方法操作轻量级数据库学习peewee库"><a class="markdownIt-Anchor" href="#方式二用orm方法操作轻量级数据库学习peewee库"></a> 方式二：用ORM方法操作轻量级数据库，学习peewee库</h3>
<p>学习SQL语句的时间成本通常很高，原生 SQL 的过程非常繁琐，代码重复，没有面向对象思维，在实际开发中，如无特殊需求，一般不会直接写 SQL，而是用更为方便的 <strong>ORM（对象关系映射，Object Relational Mapping）<strong>框架。ORM是将</strong>关系型数据库</strong>与 Python 中的<strong>对象</strong>关联起来，提供了一种操作数据的简便方式，相当于对数据库加了一层更友好的接口，有了 ORM 不再需要写 SQL 语句。同时兼容多种数据库系统，如sqlite, mysql、postgresql，付出的代价可能就是性能上的一些损失。</p>
<p>目前 Python 中比较流行的 ORM 解决方案有三种：<strong>Django ORM</strong>（使用方便，但很难脱离 Django 单独使用。）<strong>SQLAlchemy</strong>（功能强大，成熟可扩展，但学习门槛较高。）<strong>peewee</strong>（轻量，可扩展，易学习，但功能有限。）对于偏初级的小型项目，通常用不到很复杂的功能，就可以选择peewee库。</p>
<h4 id="peewee"><a class="markdownIt-Anchor" href="#peewee"></a> peewee</h4>
<p>学习peewee的官方文档：<a href="http://docs.peewee-orm.com/en/latest/index.html" target="_blank" rel="noopener">http://docs.peewee-orm.com/en/latest/index.html</a></p>
<h3 id="方式三使用非关系型数据库"><a class="markdownIt-Anchor" href="#方式三使用非关系型数据库"></a> 方式三：使用非关系型数据库</h3>
<p>对于数据存储还有一种解决方案，就是使用非关系型数据库。</p>
<p>以上提到的都是关系型数据库，虽然很好，但是随着互联网大规模的爆发，弱点也越来越明显，比如事务的一致性，多表联查，高并发等等瓶颈很明显。于是<strong>NoSQL</strong>一词横空出世，数据结构由键值(key=&gt;value)对组成，结构不固定，每一个元组可以有不一样的字段，每个元组可以根据需要增加一些自己的键值对，这样就不会局限于固定的结构，可以减少一些时间和空间的开销。</p>
<p>比如<strong>MongoDb</strong>就是典型的NoSQL型数据库。MongoD是非关系型数据库，也叫<strong>文档型数据库</strong>（即可以存放xml、json、bson类型的数据），是一种NoSQL的数据库。对于简单的数据存储来说，它有个巨大的优势就是<strong>同 Python 内置的 dict、list 等类型兼容良好</strong>，可以直接存取，让你甚至感觉不到有数据库的存在，也根本无需关心 SQL 语句。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/18/%E7%AE%A1%E9%81%93%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/18/%E7%AE%A1%E9%81%93%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%88%86%E6%9E%90/" itemprop="url">文献：管道可靠性分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-18T10:49:11+08:00">
                2020-05-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="论文1"><a class="markdownIt-Anchor" href="#论文1"></a> 论文1</h3>
<p><em><strong>Alimi L, Chaoui K. Reliability Study of HDPE Pipe Using Slow Crack Growth Model[J].</strong></em></p>
<h4 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h4>
<p>现在有多种预测HDPE寿命模型，彼此之间没有很大的共识，有些特定的参数也不是非常确切。尽管塑料管材标准及其相关的实验室测试也规定了超过50年的安全结构使用寿命，但是可靠性方法仍然是评估剩余结构寿命的一种安全方法。</p>
<p>这项研究涉及基于寿命估计模型的高密度聚乙烯（HDPE）管可靠性计算。用慢速裂纹扩展（SCG）模型与极限状态函数结合以获得表示失效概率的可靠性指标（β）。与钢质管道相比，塑料管道在此问题上的投入很少。</p>
<h4 id="顺序"><a class="markdownIt-Anchor" href="#顺序"></a> 顺序</h4>
<ul>
<li>
<p>物理模型搭建：</p>
<p>借鉴P.Hutar的文章用Paris公式解释SCG动力学特征</p>
<p>![](管道可靠性分析/屏幕快照 2020-05-17 下午11.50.54.png)</p>
</li>
<li>
<p>可靠性分析</p>
<ul>
<li>定义结构的性能函数（极限函数），用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(X_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>表示，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>是随机变量。这个方程说明了安全裕度，该裕度由管道商推荐寿命（通常大于50年）和实际计算的寿命之间的差定义。即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><msub><mi>t</mi><mi>R</mi></msub><mo>−</mo><msub><mi>t</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">G=t_R-t_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9011879999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>失效概率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>f</mi></msub><mo>=</mo><mi>P</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_f=P[G(X)&lt;=0]=\phi(-\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span> 中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">P[G(X)&lt;=0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span> 是概率算子，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(-\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span>是累积高斯概率函数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>是可靠性指标。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">P[G(X)&lt;=0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">[</span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span> 可以由基于FORM/SORM有限元计算的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mi>H</mi><mi>I</mi><mi>M</mi><mi>E</mi><mi>C</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">PHIMECA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span></span></span></span>软件计算得出。</li>
</ul>
</li>
<li>
<p>对各变量对应的可靠性指数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> 进行分别分析，作图，找安全范围</p>
<ul>
<li>随裂纹长度的变化</li>
</ul>
<p>![](管道可靠性分析/屏幕快照 2020-05-18 上午10.48.28.png)</p>
<ul>
<li>材料指数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span></li>
</ul>
<p>![](管道可靠性分析/屏幕快照 2020-05-18 上午10.48.34.png)</p>
<ul>
<li>随施加应力</li>
</ul>
<p>![](管道可靠性分析/屏幕快照 2020-05-18 上午10.48.43.png)</p>
</li>
<li>
<p>结论</p>
<ul>
<li>基于SCG的塑料管的可靠性随着裂纹长度，压力和指数m的增加而降低</li>
<li>可以得出不同壁厚的某种管材，在一定的初始裂纹下，承受压力的安全范围</li>
</ul>
</li>
</ul>
<hr>
<h3 id="论文3"><a class="markdownIt-Anchor" href="#论文3"></a> 论文3</h3>
<p><strong>Alimi L, Chaoui K, Amirat A, et al. Study of reliability index for high-density polyethylene based on pipe standard dimension ratio and fracture toughness limits[J]. The International Journal of Advanced Manufacturing Technology, 2018, 96(1-4): 123-136.</strong>*</p>
<p>评论：与上一篇文章类似，把失效概率中的概率算子的变量换成了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">K_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，即安全裕度由材料的临界断裂韧度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>K</mi><mi>I</mi></msub><mi>c</mi></mrow><annotation encoding="application/x-tex">K_Ic</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">c</span></span></span></span>与实际值之间的差异定义。模拟了可靠性指数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>对工作压力、裂纹长度和SDR三个参数的函数。</p>
<p>以上两篇文章在进行可靠性分析时都用到了phimeca软件，再来介绍一下这款软件</p>
<hr>
<h3 id="论文3-2"><a class="markdownIt-Anchor" href="#论文3-2"></a> 论文3</h3>
<p><em><strong>Lemaire, Maurice, and Maurice Pendola. Phimeca-soft.&quot;Structural safety 28.1-2 (2006): 130-149.</strong></em></p>
<p>该软件基于<em>FORM/SORM</em>可靠性计算，原理如下图</p>
<p><img src="/2020/05/18/%E7%AE%A1%E9%81%93%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%88%86%E6%9E%90/1-s2.0-S0167473005000196-gr1.jpg" alt></p>
<p>接下来用一个应用例子来介绍它：</p>
<h5 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h5>
<p>排气歧管在损坏和漏气之前的寿命取决于几个参数：几何形状，与发动机的组装、材料特性、温度以及机械负载条件。制造过程和客户的多样性在这些参数值中引入了很大的可变性，影响了排气歧管的故障风险。</p>
<p>传统上，在寿命评估或结构抗力的合理性中不考虑这些可变性的来源。这项工作的目的是<strong>将这种不确定性引入歧管的预测行为模型中</strong>，以便通过使用形式方法的“可靠性指标”计算来确定失效的可能性。</p>
<h5 id="歧管介绍"><a class="markdownIt-Anchor" href="#歧管介绍"></a> 歧管介绍</h5>
<p>歧管承受热负荷和机械负荷。我们使用具有大约200,000个节点的有限元模型并执行耦合的非线性热力和机械分析来模拟歧管的结构行为。由此分析可以得出有关整个结构的应力和温度的变化情况。</p>
<h5 id="引入随机量"><a class="markdownIt-Anchor" href="#引入随机量"></a> 引入随机量</h5>
<p>不确定的参数涉及：</p>
<ul>
<li>
<p>在最大和最小发动机功率下废气的温度<span class="katex-error" title="ParseError: KaTeX parse error: Got function &#039;\max&#039; with no arguments as subscript at position 3: T_\̲m̲a̲x̲">T_\max</span>和<span class="katex-error" title="ParseError: KaTeX parse error: Got function &#039;\min&#039; with no arguments as subscript at position 3: T_\̲m̲i̲n̲">T_\min</span>，两个温度都会影响一个循环中的热和机械性能。</p>
</li>
<li>
<p>用于制造歧管的内核位置：由于制造过程<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mi>d</mi><mi>y</mi><mo separator="true">,</mo><mi>d</mi><mi>z</mi></mrow><annotation encoding="application/x-tex">dx,dy,dz</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span> ，该位置在三个方向上独立变化。这会导致厚度过大或过低，从而可能重新分配整个结构的热和机械负载。</p>
</li>
<li>
<p>材料特性（杨氏模量<em>ë</em>，屈服应力<em>σ</em> <em>ÿ</em>和从推导出极限强度<em>σ</em> <em>ý</em>取决于温度以及用于寿命的估计疲劳性能的损坏系数考虑恒定塑料模量）</p>
</li>
</ul>
<p>已经确定了在特定温度下材料性能的平均值和标准偏差。为了获得每个温度下的随机性，物理随机变量的实现定义为</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>x</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>u</mi><mi>X</mi></msub><msub><mi>σ</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(T)=mx(T)+u_X\sigma_X(T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span></span></p>
<p>将包含相关性的九个随机变量引入有限元模型和预测的循环数中。</p>
<h5 id="结果"><a class="markdownIt-Anchor" href="#结果"></a> 结果</h5>
<p>用PHIMECA进行计算后，对于所有上述可变性源，获得的故障概率为1.3％，对应可靠性指标<em>β</em> 为2.24。换句话说，在考虑了机械模型并引入了可变性之后，有1.3％的测试歧管将无法通过严格性测试。同时，如下图，phimeca-soft还给出的重要性因子，确定所有随机变量的影响力，决定应该改进的部分</p>
<p><img src="/2020/05/18/%E7%AE%A1%E9%81%93%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%88%86%E6%9E%90/1-s2.0-S0167473005000196-gr10.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6/" itemprop="url">基于人工智能的汽车智能故障诊断系统设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-16T23:41:41+08:00">
                2020-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">科研笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  5.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  24
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="项目背景及意义"><a class="markdownIt-Anchor" href="#项目背景及意义"></a> <strong>项目背景及意义</strong></h3>
<p>“智能+工业”不仅是我国的一个发展战略需求，也是人工智能的热门应用方向之一。智能汽车是一种新型高科技汽车，借助人工智能实现用车保养和零件检测的自动化将会极高地提升车辆的安全程度。除了自动驾驶等智能汽车技术外，特斯拉、宝马等企业正还准备使用人工智能升级以往的车辆故障检测系统，希望实现自动寻找检测汽车某些部件的损坏情况，以便在潜在故障发生之前就对车辆进行检测和维修，甚至在发现问题之后，配合自动驾驶系统让车辆自行驾驶至服务中心。</p>
<p>本文中我们将采用使用人工智能的方法构建一套模型，通过智能汽车内零部件传感器的数据，运用机器学习进行建模分析，构建一套汽车智能故障诊断系统，从而帮助车厂判断汽车的健康状况。</p>
<h3 id="相关概念"><a class="markdownIt-Anchor" href="#相关概念"></a> <strong>相关概念</strong></h3>
<h4 id="汽车传感器智能汽车的感知和计算"><a class="markdownIt-Anchor" href="#汽车传感器智能汽车的感知和计算"></a> 汽车传感器：智能汽车的感知和计算</h4>
<p>传感器是一种检测装置，能够感受到被测量的信息，并能将感受到的信息按照一定规律转变为电信号或其他所需形式的信息输出，满足信息的传输、处理、存储、显示、记录和控制等要求。汽车传感器可分为车辆感知、环境感知两大类。动力、底盘、车身及电子电气系统中的传感器属于车辆感知范畴，ADAS 以及无人驾驶系统中引入的车载摄像头、毫米波雷达、激光雷达等属于环境感知范畴。传感器作为智能汽车感知环境的硬件基础，在智能驾驶发展过程中起着重要作用[<a href="#_edn1">i]</a>。</p>
<p>![智能汽车传感系统](机器学习智能汽车/图片 1.png)</p>
<p>本项目中，我们可以借助车辆感知大类的传感器收集汽车运行中的各种工况信息，如车速、各种介质的温度、发动机运转工况、各部位压力等。将他们转化成电讯号输给计算机，远程分析车辆的健康状况。</p>
<h4 id="机器学习"><a class="markdownIt-Anchor" href="#机器学习"></a> <strong>机器学习</strong></h4>
<p>机器学习是一门涉及多领域的交叉学科，其研究内容涉及概率论，统计学，算法复杂度，线性代数，微积分等众多领域。机器学习研究的是计算机如何模拟人类的学习行为，从相应的数据中学习到一定的规律，并能够对新的数据进行分析。目前十分火热的深度学习就是机器学习的一个分支，机器学习在众多现代计算机 领域有着十分重要的作用，比如图像处理，语音识别，自然语言处理等等。机器学习分监督学习，无监督学习，半监督学习。使用机器学习可以对数据进行分类，回归等等分析。常用的机器学习算法有:线性回归，逻辑斯蒂回归，cart 决策树，随机森林，Adaboosting，bagging，SVM，k-means，PCA等等算法。本文将通过集成学习的方法，同时根据实际业务问题调整阈值，对车辆传感器的数据进行分析，确保将健康状况不良好的汽车即使召回。</p>
<h3 id="汽车传感器数据分析"><a class="markdownIt-Anchor" href="#汽车传感器数据分析"></a> <strong>汽车传感器数据分析</strong></h3>
<h4 id="数据探索和方法选择"><a class="markdownIt-Anchor" href="#数据探索和方法选择"></a> 数据探索和方法选择</h4>
<p>我手上的训练集共有60000条训练样本，测试集共有16000条训练样本。每个数据一共有171个特征，由于数据提供方的原因，数据的特征是匿名的。其中有的特征是数值连续特征，有的特征是对数据特征进行了histograms处理。缺失数据表示为NaN。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 导入依赖库</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import warnings</span><br><span class="line">warnings.filterwarnings(&quot;ignore&quot;)</span><br><span class="line">#加载数据</span><br><span class="line">train &#x3D; pd.read_csv(&#39;train_set.csv&#39;,na_values&#x3D;&#39;na&#39;)</span><br><span class="line">test &#x3D; pd.read_csv(&#39;test_set.csv&#39;,na_values&#x3D;&#39;na&#39;)</span><br><span class="line">#查看数据的shape</span><br><span class="line">print(&#39;训练集的形状：&#123;&#125;&#39;.format(train.shape))</span><br><span class="line">print(&#39;测试集的形状：&#123;&#125;&#39;.format(test.shape))</span><br><span class="line"></span><br><span class="line"># TODO：打印train前五行数据</span><br><span class="line">train.head()</span><br><span class="line"># TODO：打印test前五行数据</span><br><span class="line">test.head()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6/2.png" alt="前5行数据的部分特征"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># TODO：查看train数据中class这列的类别比例</span><br><span class="line">pd.value_counts(train[&#39;class&#39;])</span><br></pre></td></tr></table></figure>
<p>通过查看数据类别，我发现训练集共60000个样本中，有59000条是正常样本，只有1000条是故障车辆样本。此问题是一个典型的样本不均衡问题，对于这种非常不均衡的问题一般有两种解决思路：</p>
<p>（1）使用异常值检测的方法：将少类的样本看作异常值</p>
<p>（2）使用监督学习的方法，看作分类问题。</p>
<p>本文中我将使用监督学习的方法来对他们进行建模。</p>
<h4 id="数据预处理"><a class="markdownIt-Anchor" href="#数据预处理"></a> 数据预处理</h4>
<p>对于传感器的原始数据数据，我按顺序进行以下预处理:</p>
<h5 id="区分特征值和标签"><a class="markdownIt-Anchor" href="#区分特征值和标签"></a> 区分特征值和标签</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 将特征和标签划分开</span><br><span class="line"># 在这一步中我们将把feature和label分开</span><br><span class="line">train_feature  &#x3D; train[train.columns.difference([&#39;class&#39;])]</span><br><span class="line">train_label &#x3D; train[&#39;class&#39;]</span><br><span class="line"></span><br><span class="line">test_feature  &#x3D; test[test.columns.difference([&#39;class&#39;])]</span><br><span class="line">test_label &#x3D; test[&#39;class&#39;]</span><br></pre></td></tr></table></figure>
<h5 id="区分数据特征类型"><a class="markdownIt-Anchor" href="#区分数据特征类型"></a> 区分数据特征类型：</h5>
<p>如前文所述，传感器数据分为两类，一类是数值特征，一类是通过直方图得到的分布特征。由于直方图类数据在特征选择时要进行特殊的处理，因此第一步是通过通过正则表达式，自动匹配这类分布特征的字段类型，进行查找和筛选。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern &#x3D; re.compile(&#39;[a-z]*_001&#39;)</span><br><span class="line">col_bin_name &#x3D; [re.findall(pattern,char) for char in train_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">bin_name_lst &#x3D; []</span><br><span class="line">for col in col_bin_name:</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in train_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    bin_name_lst.append(np.concatenate(find_name,axis&#x3D;0))</span><br><span class="line">    print(find_name)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6/3.png" alt="打印出所有直方图类的特征"></p>
<h5 id="标签数据转换"><a class="markdownIt-Anchor" href="#标签数据转换"></a> 标签数据转换：</h5>
<p>neg意味着汽车的健康状况为良好，不需要检修；pos为状况不良，需要检修。为了便于计算，我将neg标签转换为0，pos标签转换为1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train_label &#x3D; train_label.map(&#123;&#39;pos&#39;:1,&#39;neg&#39;:0&#125;)</span><br><span class="line">test_label &#x3D; test_label.map(&#123;&#39;pos&#39;:1,&#39;neg&#39;:0&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="数据缺失值填充"><a class="markdownIt-Anchor" href="#数据缺失值填充"></a> 数据缺失值填充：</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># TODO：统计训练集和测试集分别有多少行有缺失</span><br><span class="line">print(&#39;训练集缺失&#39;,(train.isnull().sum(axis&#x3D;1)&gt;0).sum(),&#39;行&#39;)</span><br><span class="line">print(&#39;训练集缺失&#39;,(train.isnull().sum(axis&#x3D;0)&gt;0).sum(),&#39;列&#39;)</span><br><span class="line"># TODO：统计训练集和测试集分别有多少列有缺失</span><br><span class="line">print(&#39;测试集缺失&#39;,(test.isna().sum(axis&#x3D;1)&gt;0).sum(),&#39;行&#39;)</span><br><span class="line">print(&#39;测试集缺失&#39;,(test.isnull().sum(axis&#x3D;0)&gt;0).sum(),&#39;列&#39;)</span><br></pre></td></tr></table></figure>
<p>对数据进行缺失值的分析，发现训练集共缺失 59409 行，169 列；测试集缺失 15835 行，169 列。可以判断有大量的缺失值，因此不能进行简单地丢弃，而是需要进行填充。填充的方法有均值填充和模型填充。在计算效果上，模型填充更优，但计算量较大。此处我们使用均值填充。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 使用训练集的均值进行填充</span><br><span class="line">for col in train_feature.columns:</span><br><span class="line">    train_feature[col] &#x3D; train_feature[col].fillna(train_feature[col].mean())</span><br><span class="line"></span><br><span class="line">for col in test_feature.columns:</span><br><span class="line">    test_feature[col] &#x3D; test_feature[col].fillna(train_feature[col].mean())</span><br></pre></td></tr></table></figure>
<h5 id="特征工程"><a class="markdownIt-Anchor" href="#特征工程"></a> 特征工程：</h5>
<p>虽然大部分的数据都只有匿名的特征，但仍然可以对直方图特征做一些特征的抽取工作。对于直方图特征，可以想象，每个直方图的bins的和表示了这个车辆检查这个特征的次数，那么显然这个数字的和越大就代表这个车子检查这个特征的次数越多，也间接的表明了这个车子到目前为止的使用寿命；直方图表示了这个特征的分布，可以通过JS散度和推土机距离来度量分布之间的距离来成为一个新的特征。因此本项目中，我选择以下几种基准分布：</p>
<p>（1）正样本的每个直方图特征的均值分布。</p>
<p>（2）负样本的每个直方图特征的均值分布。</p>
<p>（3）一个正态分布。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">## 特征抽取一：</span><br><span class="line">train_feature_extract &#x3D; pd.DataFrame(index&#x3D;train_feature.index)</span><br><span class="line">for index,col in enumerate(col_bin_name):</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in train_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    name &#x3D; &#39;sum_bins_&#39;+str(index)</span><br><span class="line">    train_feature_extract[name] &#x3D; train_feature[np.concatenate(find_name,axis&#x3D;0)].sum(axis&#x3D;1)</span><br><span class="line">train_feature_extract[&#39;bins_max&#39;] &#x3D; train_feature_extract.max(axis&#x3D;1)</span><br><span class="line"></span><br><span class="line">test_feature_extract &#x3D; pd.DataFrame(index&#x3D;test_feature.index)</span><br><span class="line">for index,col in enumerate(col_bin_name):</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in test_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    name &#x3D; &#39;sum_bins_&#39;+str(index)</span><br><span class="line">    test_feature_extract[name] &#x3D; test_feature[np.concatenate(find_name,axis&#x3D;0)].sum(axis&#x3D;1)</span><br><span class="line">test_feature_extract[&#39;bins_max&#39;] &#x3D; test_feature_extract.max(axis&#x3D;1)</span><br><span class="line"></span><br><span class="line">## 把特征分为数值特征和直方图特征两部分</span><br><span class="line">train_num_feature &#x3D; train_feature[train_feature.columns.difference(np.concatenate(bin_name_lst,axis&#x3D;0))];</span><br><span class="line">train_bin_feature &#x3D; train_feature[np.concatenate(bin_name_lst,axis&#x3D;0)];</span><br><span class="line"></span><br><span class="line">test_num_feature &#x3D; test_feature[test_feature.columns.difference(np.concatenate(bin_name_lst,axis&#x3D;0))];</span><br><span class="line">test_bin_feature &#x3D; test_feature[np.concatenate(bin_name_lst,axis&#x3D;0)];</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">## 特征抽取二：</span><br><span class="line">## 生成基准分布</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line"># pos均匀分布</span><br><span class="line"># neg均匀分布</span><br><span class="line">pos_distribution_mean &#x3D; []</span><br><span class="line">neg_distribution_mean &#x3D; []</span><br><span class="line">for index,col in enumerate(col_bin_name):</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in train_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    pos &#x3D; train_bin_feature.iloc[train_label[train_label&#x3D;&#x3D;1].index.tolist()][np.concatenate(find_name,axis&#x3D;0)]</span><br><span class="line">    neg &#x3D; train_bin_feature.iloc[train_label[train_label&#x3D;&#x3D;0].index.tolist()][np.concatenate(find_name,axis&#x3D;0)]</span><br><span class="line">    pos_distribution_mean.append(pos.sum(axis&#x3D;0))</span><br><span class="line">    neg_distribution_mean.append(neg.sum(axis&#x3D;0))</span><br><span class="line"></span><br><span class="line"># 高斯分布</span><br><span class="line">gs_distribution_sample &#x3D; np.random.normal(loc&#x3D;5.0, scale&#x3D;1.5,size&#x3D;500000)</span><br><span class="line">gs_distribution &#x3D; plt.hist(gs_distribution_sample,bins&#x3D;10)[0]</span><br><span class="line"></span><br><span class="line"># 分布归一化</span><br><span class="line">pos_dis &#x3D; [pos&#x2F;pos.sum() for pos in pos_distribution_mean];</span><br><span class="line">neg_dis &#x3D; [neg&#x2F;neg.sum() for neg in neg_distribution_mean];</span><br><span class="line">gs_distribution &#x3D; gs_distribution&#x2F;gs_distribution.sum()</span><br><span class="line"></span><br><span class="line">## 定义wasserstein距离(推土机距离)和JS散度</span><br><span class="line">from scipy.stats import entropy</span><br><span class="line">from scipy.stats import wasserstein_distance</span><br><span class="line">def js_dis(x,q):</span><br><span class="line">    M&#x3D;(x+q)&#x2F;2</span><br><span class="line">    js2&#x3D;0.5*entropy(x, M)+0.5*entropy(q, M)</span><br><span class="line">    return js2</span><br><span class="line">def ws_dis(x,q):</span><br><span class="line">    return wasserstein_distance(x,q)</span><br><span class="line">    </span><br><span class="line">## 特征抽取二：</span><br><span class="line">## 没有tqdm的需要先安装tqdm这个包。</span><br><span class="line">## 这个步骤的计算时间非常长，请耐心等待。</span><br><span class="line">## 训练集的特征抽取</span><br><span class="line">from tqdm import tqdm</span><br><span class="line">name_number &#x3D; 1</span><br><span class="line">for index,col in tqdm(enumerate(col_bin_name)):</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in train_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    temp &#x3D; train_bin_feature[np.concatenate(find_name,axis&#x3D;0)]</span><br><span class="line">    temp &#x3D; temp.apply(lambda x:x&#x2F;x.sum(),axis&#x3D;1)</span><br><span class="line">    for pos in pos_dis:</span><br><span class="line">        train_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(pos.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">        train_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(pos.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">    for neg in neg_dis:</span><br><span class="line">        train_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(neg.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">        train_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(neg.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">    train_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(gs_distribution,))</span><br><span class="line">    name_number+&#x3D;1</span><br><span class="line">    train_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(gs_distribution,))</span><br><span class="line">    name_number+&#x3D;1    </span><br><span class="line">## 测试集的特征抽取</span><br><span class="line">name_number &#x3D; 1</span><br><span class="line">for index,col in tqdm(enumerate(col_bin_name)):</span><br><span class="line">    pattern &#x3D; re.compile(col[0][:2]+&#39;_[0-9]*&#39;)</span><br><span class="line">    find_name &#x3D; [re.findall(pattern,char) for char in test_feature.columns.tolist() if len(re.findall(pattern,char))!&#x3D;0]</span><br><span class="line">    temp &#x3D; test_bin_feature[np.concatenate(find_name,axis&#x3D;0)]</span><br><span class="line">    temp &#x3D; temp.apply(lambda x:x&#x2F;x.sum(),axis&#x3D;1)</span><br><span class="line">    for pos in pos_dis:</span><br><span class="line">        test_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(pos.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">        test_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(pos.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">    for neg in neg_dis:</span><br><span class="line">        test_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(neg.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">        test_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(neg.values,))</span><br><span class="line">        name_number+&#x3D;1</span><br><span class="line">    test_feature_extract[name_number] &#x3D; temp.apply(js_dis,axis&#x3D;1,args&#x3D;(gs_distribution,))</span><br><span class="line">    name_number+&#x3D;1</span><br><span class="line">    test_feature_extract[name_number] &#x3D; temp.apply(ws_dis,axis&#x3D;1,args&#x3D;(gs_distribution,))</span><br><span class="line">    name_number+&#x3D;1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(train_feature_extract.shape)</span><br><span class="line">print(test_feature_extract.shape)</span><br><span class="line">## 抽取完特征后，会发现部分特征是nan或者inf，这是由于在计算分布距离的时候有的分布是0导致的</span><br><span class="line">## 所以我们需要对抽取后的nan、inf这部分数据进行变换</span><br><span class="line"></span><br><span class="line">train_feature_extract &#x3D; train_feature_extract.fillna(-1)</span><br><span class="line">test_feature_extract &#x3D; test_feature_extract.fillna(-1)</span><br><span class="line"></span><br><span class="line">def f_inf(x):</span><br><span class="line">    if x&#x3D;&#x3D;np.inf:</span><br><span class="line">        return -2</span><br><span class="line">    else:</span><br><span class="line">        return x</span><br><span class="line">train_feature_extract &#x3D; train_feature_extract.applymap(f_inf)</span><br><span class="line">test_feature_extract &#x3D; test_feature_extract.applymap(f_inf)</span><br></pre></td></tr></table></figure>
<h4 id="模型设计和集成"><a class="markdownIt-Anchor" href="#模型设计和集成"></a> 模型设计和集成</h4>
<p>处理好数据之后使用数据对模型进行训练模型，此处我选择了Logistic 回归、决策树和随机森林三个基础模型，并根据使用交叉验证和网格搜索选择合适的参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">## 模型选择、交叉验证、网格搜索</span><br><span class="line">from sklearn.model_selection import GridSearchCV</span><br><span class="line">from sklearn.metrics import roc_auc_score, make_scorer</span><br><span class="line">from sklearn.linear_model import LogisticRegression</span><br><span class="line">#网格搜索：逻辑斯特回归</span><br><span class="line">param&#x3D;&#123; &#39;C&#39;:[0.0001,0.001,0.01,0.1,0.5,1.0]&#125;</span><br><span class="line">Grid2&#x3D;GridSearchCV(estimator&#x3D;LogisticRegression(),param_grid&#x3D;param,scoring&#x3D;make_scorer(roc_auc_score))</span><br><span class="line">Grid2.fit(train_feature_extract, train_label)</span><br><span class="line">print(f&quot;逻辑斯特回归交叉验证中测试的最优参数：&#123;Grid2.best_params_&#125;&quot;)</span><br><span class="line">print(f&quot;逻辑斯特回归交叉验证中AUC最高得分：&#123;Grid2.best_score_&#125;&quot;)</span><br><span class="line">best_model_lgr &#x3D; Grid2.best_estimator_</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#网格搜索：决策树</span><br><span class="line">from sklearn.tree import DecisionTreeClassifier</span><br><span class="line">parameters &#x3D; &#123;&#39;max_depth&#39;:[3, 5, 7, 9],&#39;min_samples_leaf&#39;: [1, 2, 3, 4]&#125;# 选择两个超参数 树的深度max_depth和叶子的最小值min_samples_leaf</span><br><span class="line">Grid1 &#x3D; GridSearchCV(estimator&#x3D;DecisionTreeClassifier(random_state&#x3D;0), param_grid&#x3D;parameters,scoring &#x3D; make_scorer(roc_auc_score),cv&#x3D;3)# 进行网格搜索得到最优参数组合</span><br><span class="line">Grid1.fit(train_feature_extract, train_label) #通过有最优参数组合的最优模型进行训练</span><br><span class="line">print(f&quot;决策树交叉验证中测试的最优参数：&#123;Grid1.best_params_&#125;&quot;)</span><br><span class="line">print(f&quot;决策树交叉验证中AUC最高得分：&#123;Grid1.best_score_&#125;&quot;)</span><br><span class="line">best_model_dtc &#x3D; Grid1.best_estimator_</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#随机森林很多内部变量的网格搜索</span><br><span class="line">from sklearn.svm import SVC</span><br><span class="line">from sklearn.ensemble import RandomForestClassifier</span><br><span class="line">#首先对n_estimators进行网格搜索：</span><br><span class="line">param_test1 &#x3D; &#123;&#39;n_estimators&#39;:[20,30,40,50]&#125;</span><br><span class="line">gsearch1 &#x3D; GridSearchCV(estimator &#x3D; RandomForestClassifier(min_samples_split&#x3D;100,</span><br><span class="line">                                  min_samples_leaf&#x3D;20,max_depth&#x3D;8,max_features&#x3D;&#39;sqrt&#39; ,random_state&#x3D;10), </span><br><span class="line">                       param_grid &#x3D; param_test1, scoring&#x3D;&#39;roc_auc&#39;,cv&#x3D;5)</span><br><span class="line">gsearch1.fit(train_feature_extract,train_label)</span><br><span class="line">print( gsearch1.best_params_, gsearch1.best_score_)#,gsearch1.cv_results_打印拟合结果)</span><br><span class="line">#接着对决策树最大深度max_depth进行网格搜索。</span><br><span class="line">param_test2 &#x3D; &#123;&#39;max_depth&#39;:[1,2,3,5,7,9,11,13]&#125;</span><br><span class="line">gsearch2 &#x3D; GridSearchCV(estimator &#x3D; RandomForestClassifier(n_estimators&#x3D;50, min_samples_split&#x3D;100,</span><br><span class="line">                                  min_samples_leaf&#x3D;20,max_features&#x3D;&#39;sqrt&#39; ,oob_score&#x3D;True, random_state&#x3D;10),</span><br><span class="line">param_grid &#x3D; param_test2, scoring&#x3D;&#39;roc_auc&#39;,iid&#x3D;False, cv&#x3D;5)</span><br><span class="line">gsearch2.fit(train_feature_extract,train_label)</span><br><span class="line">print( gsearch2.best_params_, gsearch2.best_score_)</span><br><span class="line">#得到max_depth&#x3D;5。</span><br><span class="line">#下面再对内部节点再划分所需最小样本数min_samples_split和叶子节点最少样本数min_samples_leaf一起调参。</span><br><span class="line">param_test3 &#x3D; &#123;&#39;min_samples_split&#39;:[80,100,150], &#39;min_samples_leaf&#39;:[10,20,50,100]&#125;</span><br><span class="line">gsearch3 &#x3D; GridSearchCV(estimator &#x3D; RandomForestClassifier(n_estimators&#x3D; 50, max_depth&#x3D;5,</span><br><span class="line">                                  max_features&#x3D;&#39;sqrt&#39; ,oob_score&#x3D;True, random_state&#x3D;10),</span><br><span class="line">   param_grid &#x3D; param_test3, scoring&#x3D;&#39;roc_auc&#39;,iid&#x3D;False, cv&#x3D;5)</span><br><span class="line">gsearch3.fit(train_feature_extract,train_label)</span><br><span class="line">print( gsearch3.best_params_, gsearch3.best_score_)</span><br><span class="line">#得到min_samples_split&#x3D;50和min_samples_leaf&#x3D;150</span><br><span class="line">#再对最大特征数max_features做调参:</span><br><span class="line">param_test4 &#x3D; &#123;&#39;max_features&#39;:[3,5,7,9,11]&#125;</span><br><span class="line">gsearch4 &#x3D; GridSearchCV(estimator &#x3D; RandomForestClassifier(n_estimators&#x3D; 50, max_depth&#x3D;5, min_samples_split&#x3D;150,</span><br><span class="line">                                  min_samples_leaf&#x3D;50 ,oob_score&#x3D;True, random_state&#x3D;10),</span><br><span class="line">   param_grid &#x3D; param_test4, scoring&#x3D;&#39;roc_auc&#39;,iid&#x3D;False, cv&#x3D;5)</span><br><span class="line">gsearch4.fit(train_feature_extract,train_label)</span><br><span class="line">print( gsearch4.best_params_, gsearch4.best_score_)</span><br><span class="line">#得到&#39;max_features&#39;&#x3D;9</span><br><span class="line">#用我们搜索到的最佳参数，我们再看看最终随机森林的模型拟合：</span><br><span class="line">rf2 &#x3D; RandomForestClassifier(n_estimators&#x3D; 50, max_depth&#x3D;5, min_samples_split&#x3D;150,</span><br><span class="line">                                  min_samples_leaf&#x3D;50,max_features&#x3D;9, oob_score&#x3D;True, random_state&#x3D;10)</span><br><span class="line">rf2.fit(train_feature_extract,train_label)</span><br><span class="line">best_model_rfc &#x3D; rf2</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.metrics import confusion_matrix</span><br><span class="line">from sklearn.metrics import roc_auc_score</span><br><span class="line">#测试集上结果</span><br><span class="line">print(f&quot;决策树测试集上的AUC是:&#123;roc_auc_score(test_label,best_model_dtc.predict(test_feature_extract))&#125;&quot;)</span><br><span class="line">print(f&quot;逻辑斯特回归测试集上的AUC是:&#123;roc_auc_score(test_label,best_model_lgr.predict(test_feature_extract))&#125;&quot;)</span><br><span class="line">print(f&quot;随机森林回归测试集上的AUC是:&#123;roc_auc_score(test_label, best_model_rfc.predict(test_feature_extract))&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>结果显示，在训练集上使用Logistic回归得到的AUC参数为0.606，决策树得到的AUC为0.644，略高于Logistic回归，通过随机森林得到的AUC为0.969。</p>
<p>验证集上的结果分别为：决策树AUC 0.744，逻辑斯特回归测试集上的AUC是:0.762，随机森林回归测试集上的AUC是:0.660。随机森林在训练集和测试集上差异大的原因可能是出现了过拟合。</p>
<p>除了直接查看AUC，还可以通过用AUC=0.5作为阈值看结果的混淆矩阵，同时设计一个随机猜测函数作为baseline来进一步查看模型相对于随机猜测时候的优势。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#查看以0.5作为阈值的混淆矩阵</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import seaborn as sns</span><br><span class="line">true&#x3D;test_label</span><br><span class="line">pred1&#x3D;Grid1.predict(test_feature_extract)</span><br><span class="line">pred2&#x3D;Grid2.predict(test_feature_extract)</span><br><span class="line">pred3&#x3D;best_model_rfc.predict(test_feature_extract)</span><br><span class="line">#导入混淆矩阵函数</span><br><span class="line">cm1&#x3D;confusion_matrix(true,pred1)</span><br><span class="line">cm2&#x3D;confusion_matrix(true,pred2)</span><br><span class="line">cm3&#x3D;confusion_matrix(true,pred3)</span><br><span class="line">#导入作图函数</span><br><span class="line">plt.matshow(cm1,cmap&#x3D;plt.cm.Greens)</span><br><span class="line">sns.heatmap(cm1,annot&#x3D;True)</span><br><span class="line">plt.matshow(cm2,cmap&#x3D;plt.cm.Greens)</span><br><span class="line">sns.heatmap(cm2,annot&#x3D;True)</span><br><span class="line">plt.matshow(cm3,cmap&#x3D;plt.cm.Greens)</span><br><span class="line">sns.heatmap(cm3,annot&#x3D;True)</span><br><span class="line">#输出为混淆矩阵</span><br><span class="line">#TODO：随机猜测函数</span><br><span class="line">random&#x3D; np.random.randint(0,2,16000)</span><br><span class="line">cm0&#x3D;confusion_matrix(true,random)</span><br><span class="line">plt.matshow(cm0,cmap&#x3D;plt.cm.Greens)</span><br><span class="line">sns.heatmap(cm0,annot&#x3D;True)</span><br></pre></td></tr></table></figure>
<p>![混淆矩阵:左上（决策树）右上（Logistic）左下（随机森林）右下（随机猜测）](机器学习智能汽车/屏幕快照 2020-05-16 下午11.45.35.png)</p>
<p>在训练完单个模型之后，我们将进行模型的集成。集成技术是将多个分类器的结果或性能结合起来，以提高单个分类器的性能。该方法通过装配不同的分类器来修改单个分类器的归纳能力[<a href="#_edn2">ii]</a>，也能更好地解决样本不均衡的问题。此处，我们使用stacking的方法对步骤四生成的不同学习器进行集成，同时画出集成后模型的ROC曲线。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">## TODO:模型集成</span><br><span class="line">from mlxtend.classifier import EnsembleVoteClassifier</span><br><span class="line">from mlxtend.data import iris_data</span><br><span class="line">clf1&#x3D;best_model_dtc</span><br><span class="line">clf2&#x3D;best_model_lgr</span><br><span class="line">clf3&#x3D;best_model_rfc</span><br><span class="line">eclf&#x3D;EnsembleVoteClassifier(clfs&#x3D;[clf1, clf2,clf3],</span><br><span class="line">                              weights&#x3D;[2,1,1], voting&#x3D;&#39;soft&#39;)</span><br><span class="line">eclf.fit(train_feature_extract,train_label)</span><br><span class="line">## TODO：ROC曲线</span><br><span class="line"></span><br><span class="line">from sklearn.metrics import roc_curve, auc</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from sklearn.model_selection import StratifiedKFold</span><br><span class="line"></span><br><span class="line">probas_ &#x3D; eclf.predict_proba(test_feature_extract) # 训练模型后预测每条样本得到两种结果的概率</span><br><span class="line">fpr, tpr, thresholds &#x3D; roc_curve(test_label, probas_[:, 1])    # 该函数得到伪正例、真正例、阈值，这里只使用前两个</span><br><span class="line">roc_auc &#x3D; auc(fpr, tpr)  # 求auc面积</span><br><span class="line">plt.plot(fpr, tpr, lw&#x3D;1, label&#x3D;&#39;ROC (area &#x3D; &#123;1:.2f&#125;)&#39;.format(i, roc_auc))    # 画出当前分割数据的ROC曲线</span><br><span class="line"> </span><br><span class="line">plt.plot([0, 1], [0, 1], &#39;--&#39;, color&#x3D;(0.6, 0.6, 0.6), label&#x3D;&#39;Luck&#39;) # 画对角线</span><br><span class="line">plt.xlim([-0.05, 1.05])     # 设置x、y轴的上下限，设置宽一点，以免和边缘重合，可以更好的观察图像的整体</span><br><span class="line">plt.ylim([-0.05, 1.05])</span><br><span class="line">plt.xlabel(&#39;False Positive Rate&#39;)</span><br><span class="line">plt.ylabel(&#39;True Positive Rate&#39;)    # 可以使用中文，但需要导入一些库即字体</span><br><span class="line">plt.title(&#39;ROC curve&#39;)</span><br><span class="line">plt.legend(loc&#x3D;&quot;lower right&quot;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6/4.png" alt="集成后模型的ROC曲线"></p>
<h3 id="结果分析"><a class="markdownIt-Anchor" href="#结果分析"></a> <strong>结果分析</strong></h3>
<p>在实际的业务问题中，不能简单的通过准确率，召回率或者精确率来评估阈值。换言之，对于口碑至上的名车厂而言，对miss fault（把健康状况不良的车辆看成好的）的容忍度对falsely predict（把健康状况良好的汽车错误当成不好的）的容忍度要低很多。前者意味着安全和品牌的声誉，后者只是需要额外付出财力。这两者之间的代价关系和权重需要有专门的研究。</p>
<p>在这个问题中，我们简单地把$ miss fault <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">代</mi><mi mathvariant="normal">价</mi><mi mathvariant="normal">是</mi><mn>500</mn><mi mathvariant="normal">，</mi></mrow><annotation encoding="application/x-tex">代价是500，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord cjk_fallback">代</span><span class="mord cjk_fallback">价</span><span class="mord cjk_fallback">是</span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord cjk_fallback">，</span></span></span></span>falsely$ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">predict</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span></span></span></span>代价是10，那么我们需要找到一个阈值，使得总代价$ cost $最小。</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo>=</mo><mn>1000</mn><mo>∗</mo><mi>n</mi><mi>u</mi><msub><mi>m</mi><mi>m</mi></msub><mi>f</mi><mo>+</mo><mn>10</mn><mo>∗</mo><mi>n</mi><mi>u</mi><msub><mi>m</mi><mi>f</mi></msub><mi>p</mi></mrow><annotation encoding="application/x-tex">cost=1000*num_mf+10*num_fp
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathdefault">p</span></span></span></span></span></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">## TODO：找阈值使得cost最小</span><br><span class="line">thresholds&#x3D;[0.8,0.81,0.812,0.813,0.814,0.815,0.816,0.817,0.818,0.819,0.82]</span><br><span class="line">cost&#x3D;500*16000</span><br><span class="line">for i in thresholds:</span><br><span class="line">    probas_ &#x3D; eclf.predict_proba(test_feature_extract) # 训练模型后预测每条样本得到两种结果的概率</span><br><span class="line">    arr&#x3D;probas_[:,1]</span><br><span class="line">    arr[arr &gt; i] &#x3D; 1</span><br><span class="line">    arr[arr &lt;&#x3D; i] &#x3D; 0</span><br><span class="line">    y_predict&#x3D;arr</span><br><span class="line">    def TN(y_true, y_predict):</span><br><span class="line">        assert len(y_true) &#x3D;&#x3D; len(y_predict)  </span><br><span class="line">        return np.sum((y_true&#x3D;&#x3D;0)&amp;(y_predict&#x3D;&#x3D;0))</span><br><span class="line">    def FP(y_true, y_predict):</span><br><span class="line">        assert len(y_true) &#x3D;&#x3D; len(y_predict)</span><br><span class="line">        return np.sum((y_true&#x3D;&#x3D;0)&amp;(y_predict&#x3D;&#x3D;1))</span><br><span class="line">    cost_temp&#x3D;500*FP(test_label,arr)+10*TN(test_label,arr)</span><br><span class="line">    if cost_temp&lt;cost:</span><br><span class="line">        cost&#x3D;cost_temp </span><br><span class="line">        thresholds_best&#x3D;i</span><br><span class="line">print(cost,thresholds_best)      </span><br><span class="line">#阈值在0.814左右cost最小，最佳。即当概率小于0.814时，车即被判为性能不正常进行检修</span><br></pre></td></tr></table></figure>
<p>最后得出的结果显示，阈值为0.814时，总代价$ cost $最小。也就是，当阈值大于0.814时，车被判为健康状况不良进行检修，对车厂的效率是最高的。</p>
<p>对于这类不同的分类错误会导致不同的惩罚力度时如何训练分类器的问题，除了阈值的筛选，还有一些前沿的解决方法，称为代价敏感的学习方法[<a href="#_edn3">iii]</a>。代价敏感学习的算法研究又可以分成三类：</p>
<p>（1）直接构造一个代价敏感的学习模型；</p>
<p>（2）基于对分类结果的后处理，即按照传统的学习方法学习一个分类模型，然后对其分类结果按照贝叶斯风险理论对结果进行调整，以达到最小的损失。</p>
<p>（3）基于传统的学习模型，通过改变原始训练数据的分布来训练得到代价敏感的模型。</p>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> <strong>总结</strong></h3>
<p>在本项目中，我们对智能汽车传感器的数据应用了机器学习的方法来判断汽车的健康状况，通过数据清洗、特征选择、模型集成等方法，测试集上的分类的准确率达到94%。同时，在最后一部分，我们根据实际情况对阈值进行重新考量，建立车厂召回汽车的代价函数，让车厂在选择召回汽车的决策中效率最佳。</p>
<hr>
<p>[<a href="#_ednref1">i]</a> 汽车传感器：智能汽车的感知与计算</p>
<p>[<a href="#_ednref2">ii]</a> 机器学习：处理不平衡数据的5个重要技术</p>
<p>[<a href="#_ednref3">iii]</a> 代价敏感分类算法的实验比较。闫明松，周志华。模式识别与人工智能。Vol.18 No.5。Oct 2005</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/16/pdd2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ren Yixin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yixin's sharing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/16/pdd2/" itemprop="url">与小伙伴们一起完成的对拼多多公司融资和估值分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-16T19:00:59+08:00">
                2020-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E2%80%9C%E6%A2%A6%E4%B8%8E%E8%BF%BD%E6%B1%82%E2%80%9D/" itemprop="url" rel="index">
                    <span itemprop="name">“梦与追求”</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2020/05/16/pdd2/%E5%88%9B%E4%B8%9A%E4%BC%B0%E5%80%BC%E7%AC%AC%E7%AC%AC%E4%B8%83%E7%BB%84%E6%8A%A5%E5%91%8A.2%E7%9A%84%E5%89%AF%E6%9C%AC.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/%E5%88%9B%E4%B8%9A%E4%BC%B0%E5%80%BC%E7%AC%AC%E7%AC%AC%E4%B8%83%E7%BB%84%E6%8A%A5%E5%91%8A.3.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/4.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/5.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/6.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/7.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/8.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/9.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/10.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/11.jpg" alt></p>
<p><img src="/2020/05/16/pdd2/12.jpg" alt><img src="/2020/05/16/pdd2/13.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Ren Yixin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ren Yixin</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">36.6k</span>
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共36.6k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
